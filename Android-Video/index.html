
<!DOCTYPE html>
<html lang="zh-CN" class="loading">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Android â€¢ Video - PhoenixNest&#39;s Blog</title>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate"/>
    
        <meta name="keywords" content="PhoenixNest,PhoenixNest&#39;s Blog,">
    
    
        <meta name="description" content="PhoenixNest&#39;s Blog â€¢ ç”¨å®åŠ›è®©æƒ…æ€€è½åœ°,å¼•è¨€
æœ¬ç¯‡å°†ä»‹ç»æˆ‘æœ€è¿‘åœ¨å¯¹ Android é¡¹ç›®è¿›è¡Œè§†é¢‘ç¼–è¾‘åŠŸèƒ½å¼€å‘çš„ä¸€äº›ç¬”è®°åˆ†äº«ã€‚


åœ¨é˜…è¯»æœ¬æ–‡å‰ï¼Œä½ éœ€è¦äº†è§£å¸¸ç”¨çš„ Android è§†é¢‘æ’­æ”¾æ–¹å¼ï¼š

ï¼ˆ1ï¼‰ï¼šä½¿ç”¨ ç³»ç»Ÿè‡ªå¸¦çš„æ’­æ”¾å™¨ è¿›è¡Œæ’­æ”¾ï¼Œ,">
    
    
        <meta name="author" content="PhoenixNest">
    
    
        <link rel="alternative" href="atom.xml" title="PhoenixNest&#39;s Blog" type="application/atom+xml">
    
    
        <link rel="icon" href="/img/favicon.png">
    
    
<link rel="stylesheet" href="//at.alicdn.com/t/font_1429596_nzgqgvnmkjb.css">

    
<link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.7.2/animate.min.css">

    
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">

    
<link rel="stylesheet" href="//cdn.bootcss.com/codemirror/5.48.4/codemirror.min.css">

    
<link rel="stylesheet" href="//cdn.bootcss.com/codemirror/5.48.4/theme/dracula.css">

    
<link rel="stylesheet" href="/css/obsidian.css">

    
<link rel="stylesheet" href="/css/ball-atom.min.css">

    
<meta name="generator" content="Hexo 5.4.0"></head>


<body class="loading">
<div class="loader">
    <div class="la-ball-atom la-2x">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
    </div>
</div>
<span id="config-title" style="display:none">PhoenixNest&#39;s Blog</span>
<div id="loader"></div>
<div id="single">
    <div class="scrollbar gradient-bg-rev"></div>
<div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <div class="navigation animated fadeIn fast delay-1s">
        <img id="home-icon" class="icon-home" src="/img/favicon.png" alt="" data-url="https://phoenixnest.github.io">
        <div id="play-icon" title="Play/Pause" class="iconfont icon-play"></div>
        <h3 class="subtitle">Android â€¢ Video</h3>
        <div class="social">
            <div>
                <div class="share">
                    
                        <a href="javascript:;" class="iconfont icon-share1"></a>
                        <div class="share-component-cc" data-disabled="facebook,douban,linkedin,diandian,tencent,google"></div>
                    
                </div>
            </div>
        </div>
    </div>
</div>

    <div class="section">
        <div class=article-header-wrapper>
    <div class="article-header">
        <div class="article-cover animated fadeIn" style="
                animation-delay: 600ms;
                animation-duration: 1.2s;
                background-image:
                radial-gradient(ellipse closest-side, rgba(0, 0, 0, 0.65), #100e17),
                url(https://cdn.jsdelivr.net/gh/PhoenixNest/Blog-Repository@master/Notes/Android/Android.png) ">
        </div>
        <div class="else">
            <p class="animated fadeInDown">
                
                    <a href="/categories/Android"><b>ã€Œ
                        </b>ANDROID<b> ã€</b></a>
                
                å…­æœˆ 24, 2022
            </p>
            <h3 class="post-title animated fadeInDown"><a href="/Android-Video/" title="Android â€¢ Video" class="">Android â€¢ Video</a>
            </h3>
            
                <p class="post-count animated fadeInDown">
                    
                        <span>
                    <b class="iconfont icon-text2"></b> <i>æ–‡ç« å­—æ•°</i>
                    9.4k
                </span>
                    
                    
                        <span>
                    <b class="iconfont icon-timer__s"></b> <i>é˜…è¯»çº¦éœ€</i>
                    17 mins.
                </span>
                    
                    
                        <span id="/Android-Video/" class="leancloud_visitors"
                              data-flag-title="Android â€¢ Video">
                    <b class="iconfont icon-read"></b> <i>é˜…è¯»æ¬¡æ•°</i>
                    <span class="leancloud-visitors-count">0</span>
                </span>
                    
                    
                </p>
            
            
                <ul class="animated fadeInDown post-tags-list" itemprop="keywords"><li class="animated fadeInDown post-tags-list-item"><a class="animated fadeInDown post-tags-list-link" href="/tags/Video/" rel="tag">Video</a></li></ul>
            
        </div>
    </div>
</div>

<div class="screen-gradient-after">
    <div class="screen-gradient-content">
        <div class="screen-gradient-content-inside">
            <div class="bold-underline-links screen-gradient-sponsor">
                <p>
                    <span class="animated fadeIn delay-1s">Beyond The World</span>
                </p>
            </div>
        </div>
    </div>
</div>

<div class="article">
    <div class='main'>
        <div class="content markdown animated fadeIn">
            <h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><blockquote>
<p>æœ¬ç¯‡å°†ä»‹ç»æˆ‘æœ€è¿‘åœ¨å¯¹ <code>Android</code> é¡¹ç›®è¿›è¡Œ<code>è§†é¢‘ç¼–è¾‘</code>åŠŸèƒ½å¼€å‘çš„ä¸€äº›ç¬”è®°åˆ†äº«ã€‚</p>
</blockquote>
<blockquote>
<p>åœ¨é˜…è¯»æœ¬æ–‡å‰ï¼Œä½ éœ€è¦äº†è§£å¸¸ç”¨çš„ Android è§†é¢‘æ’­æ”¾æ–¹å¼ï¼š</p>
<ul>
<li>ï¼ˆ1ï¼‰ï¼šä½¿ç”¨ <code>ç³»ç»Ÿè‡ªå¸¦çš„æ’­æ”¾å™¨</code> è¿›è¡Œæ’­æ”¾ï¼Œè¯¥æ–¹å¼éœ€è¦æŒ‡å®š Intentçš„Actionä¸ºACTION_VIEWï¼ŒDataä¸ºè§†é¢‘Uriï¼ŒTypeä¸ºå¾…æ’­æ”¾è§†é¢‘çš„MIMEç±»å‹ï¼›</li>
<li>ï¼ˆ2ï¼‰ï¼šä½¿ç”¨ <code>VideoView</code> æ’­æ”¾è§†é¢‘ï¼›</li>
<li>ï¼ˆ3ï¼‰ï¼šä½¿ç”¨ <code>SurfaceView + MediaPlayer</code> æ’­æ”¾è§†é¢‘ï¼ˆ<code>æ¨èåšæ³•</code>ï¼‰ã€‚</li>
</ul>
</blockquote>
<hr>
<h2 id="SurfaceView"><a href="#SurfaceView" class="headerlink" title="SurfaceView"></a>SurfaceView</h2><blockquote>
<p>Google å®˜æ–¹æ–‡æ¡£ä¸­å¯¹äº <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/view/SurfaceView">SurfaceView</a> çš„ä»‹ç»ï¼š</p>
</blockquote>
<p>Provides a dedicated drawing surface embedded inside of a view hierarchy. You can control the format of this surface and, if you like, its size; the SurfaceView takes care of placing the surface at the correct location on the screen.</p>
<hr>
<h2 id="MediaPlayer"><a href="#MediaPlayer" class="headerlink" title="MediaPlayer"></a>MediaPlayer</h2><blockquote>
<p>Google å®˜æ–¹æ–‡æ¡£ä¸­å¯¹äº <a target="_blank" rel="noopener" href="https://developer.android.com/guide/topics/media/mediaplayer">MediaPlayer</a> çš„ä»‹ç»ï¼š</p>
</blockquote>
<p>The Android multimedia framework includes support for playing variety of common media types, so that you can easily integrate audio, video and images into your applications. You can play audio or video from media files stored in your applicationâ€™s resources (raw resources), from standalone files in the filesystem, or from a data stream arriving over a network connection, all using MediaPlayer APIs.</p>
<blockquote>
<p>MediaPlayer æ˜¯ Android å¤šåª’ä½“ç»„ä»¶åº“ä¸­è‡³å…³é‡è¦çš„ä¸€å‘˜ï¼Œé€šå¸¸ç”¨äºå¯¹è§†é¢‘è¿›è¡Œè£…è½½ï¼Œæ’­æ”¾ï¼Œæ§åˆ¶ç­‰æ“ä½œã€‚</p>
</blockquote>
<pre><code class="kotlin">val mediaPlayer = MediaPlayer()

// é€šè¿‡ Surface + MediaPlayer è¿›è¡Œè§†é¢‘æ’­æ”¾
try &#123;
  // ä»videoPathä¸­åŠ è½½è§†é¢‘èµ„æºï¼Œè¯¥è·¯å¾„å¯ä»¥æ˜¯è§†é¢‘è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç½‘ç»œåœ°å€
  mediaPlayer.setDataSource(videoPath)

  // é…åˆ Surface è¿›è¡Œè§†é¢‘æ¸²æŸ“
  val surface = Surface(surfaceTexture)
  mediaPlayer.setSurface(surface)
  surface.release() // åŠ è½½å®Œæ¯•ååŠæ—¶é‡Šæ”¾ Surface èµ„æº

  // æ§åˆ¶è§†é¢‘å¾ªç¯æ’­æ”¾
  mediaPlayer.isLooping = true

  // è§†é¢‘èµ„æºè£…è½½å®Œæˆæ—¶ï¼Œå›è°ƒè¯¥ç›‘å¬å™¨ï¼Œè¯¥ç›‘å¬å™¨ç±»å‹ä¸ºï¼šMediaPlayer.OnPreparedListener
  // åœ¨è¯¥ç›‘å¬å™¨ä¸­ï¼Œå¯è¿›è¡Œä¸€äº›å¸¸ç”¨ç»„ä»¶çš„è‡ªå®šä¹‰è®¾ç½®ï¼Œæ¯”å¦‚é€šè¿‡è·å–è§†é¢‘å®½é«˜ï¼ŒåŠ¨æ€è°ƒæ•´ç›¸åº”å¸ƒå±€
  mediaPlayer.setOnPreparedListener(listener: MediaPlayer.OnPreparedListener)

  // è§†é¢‘æ’­æ”¾é¢„å¤„ç†
  mediaPlayer.prepare()

  // æ’­æ”¾è§†é¢‘ï¼Œè¯¥æ–¹æ³•ä¹Ÿå¯ç”¨æ¥æ¢å¤å½“å‰æ’­æ”¾è¿›åº¦
  mediaPlayer.start()
&#125; catch(exception: Exception) &#123;
  println(&quot;mediaPlayer Error&quot;)
&#125;

// å…¶ä»–å¸¸ç”¨ MediaPlayer æ§åˆ¶è§†é¢‘æ’­æ”¾æ–¹æ³•ï¼š
// æš‚åœæ’­æ”¾
mediaPlayer.pause()

// é‡ç½® MediaPlayerèµ„æºï¼Œè°ƒç”¨è¯¥æ–¹æ³•åéœ€é‡æ–°å¯¹ MediaPlayer è¿›è¡Œåˆå§‹åŒ–
mediaPlayer.reset()

// é‡Šæ”¾è§†é¢‘èµ„æº
mediaPlayer.release()

// è·³è½¬åˆ°æŒ‡å®šè¿›åº¦
mediaPlayer.seekTo(msec: Int)
// mediaPlayer.seekTo(msec: Int, mode: Int)
</code></pre>
<pre><code class="kotlin">// MediaPlayer è§†é¢‘ä¿¡æ¯ç›¸å…³æ–¹æ³•ï¼š
// è·å–è§†é¢‘æ€»é•¿åº¦
mediaPlayer.duration

// è·å–è§†é¢‘å½“å‰è¿›åº¦ 
mediaPlayer.currentPosition

// è·å–è§†é¢‘å®½åº¦
mediaPlayer.videoWidth

// è·å–è§†é¢‘é«˜åº¦
mediaPlayer.videoHeight

// è·å–è§†é¢‘è½¨é“ä¿¡æ¯
mediaPlayer.trackInfo

// è°ƒæ•´è§†é¢‘éŸ³é‡
mediaPlayer.setVolume(leftVolume: Float, rightVolume: Float) // å·¦ï¼Œå³å£°é“éŸ³é‡
</code></pre>
<hr>
<h2 id="MediaMetadataRetriever"><a href="#MediaMetadataRetriever" class="headerlink" title="MediaMetadataRetriever"></a>MediaMetadataRetriever</h2><blockquote>
<p>Google å®˜æ–¹æ–‡æ¡£ä¸­å¯¹äº <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/media/MediaMetadataRetriever">MediaMetadataRetriever</a> çš„ä»‹ç»ï¼š</p>
</blockquote>
<p>MediaMetadataRetriever class provides a unified interface for retrieving frame and meta data from an input media file.</p>
<blockquote>
<p>MediaMetaDataRetriever å¸¸ç”¨äºæå–è§†é¢‘åŸå§‹ä¿¡æ¯ï¼Œå¦‚è§†é¢‘ç¬¬ä¸€å¸§å›¾ç‰‡ï¼Œè§†é¢‘æºæ•°æ®é•¿åº¦ï¼Œè§†é¢‘æºæ•°æ®ä½œè€…ç­‰é™æ€ä¿¡æ¯ã€‚</p>
</blockquote>
<pre><code class="kotlin">val mediaMetaRetriever = MediaMetadataRetriever()

// è®¾ç½®è§†é¢‘èµ„æº
mediaMetadataRetriever.setDataSource(path: String!)

mediaMetadataRetriever.setDataSource(path: String!, headers: (Mutable)Map&lt;String!, String!&gt;!)

mediaMetadataRetriever.setDataSource(fileDescriptor: FileDescriptor!)

mediaMetadataRetriever.setDataSource(fileDescriptor: FileDescriptor!, offset: Long, length: Long)

mediaMetadataRetriever.setDataSource(context: Context!, uri: Uri!)

mediaMetadataRetriever.setDataSource(dataSource: MediaDataSource!)
</code></pre>
<pre><code class="kotlin">// å¸¸ç”¨çš„ä¸€äº›è§†é¢‘å…ƒæ•°æ®ä¿¡æ¯
MediaMetadataRetriever.METADATA_KEY_DURATION // è§†é¢‘é•¿åº¦
MediaMetadataRetriever.METADATA_KEY_DATE // è§†é¢‘åˆ›å»ºæ—¥æœŸ
MediaMetadataRetriever.METADATA_KEY_VIDEO_HEIGHT // è§†é¢‘é«˜åº¦
MediaMetadataRetriever.METADATA_KEY_VIDEO_WIDTH // è§†é¢‘é«˜åº¦
...

// ä½¿ç”¨ extractMetadata() æ–¹æ³•æå–è§†é¢‘å…ƒæ•°æ®ä¿¡æ¯ï¼Œå»ºè®®åœ¨å­çº¿ç¨‹ä¸­è°ƒç”¨è¯¥æ–¹æ³•
// å¦‚ï¼šè·å–è§†é¢‘é•¿åº¦ä¿¡æ¯
mediaMetadataRetriever.extractMetadata(MediaMetadataRetriever.METADATA_KEY_DURATION)
</code></pre>
<hr>
<h2 id="MediaController"><a href="#MediaController" class="headerlink" title="MediaController"></a>MediaController</h2><blockquote>
<p>Google å®˜æ–¹æ–‡æ¡£ä¸­å¯¹äº <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/widget/MediaController">MediaController</a> çš„ä»‹ç»ï¼š</p>
</blockquote>
<p>A view containing controls for a MediaPlayer. Typically contains the buttons like â€œPlay/Pauseâ€, â€œRewindâ€, â€œFast Forwardâ€ and a progress slider. It takes care of synchronizing the controls with the state of the MediaPlayer.</p>
<blockquote>
<p>MediaController æä¾›äº†ä¸€ä¸ªæ‚¬æµ®çš„æ§åˆ¶æ ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥æ§åˆ¶æ ä¼šæ˜¾ç¤º3ç§’ï¼Œç„¶åè‡ªåŠ¨éšè—ï¼Œè¯¥æ§åˆ¶æ é€šå¸¸é…åˆ VideoView ä½¿ç”¨ã€‚</p>
</blockquote>
<pre><code class="kotlin">// MediaController æ§åˆ¶å™¨ç›¸å…³æ–¹æ³•ï¼š
// æ·»åŠ  MediaController è‡³ VideoViewï¼Œå¯¹è§†é¢‘æ’­æ”¾è¿›è¡Œæ§åˆ¶ã€‚
val mediaController = MediaController(requireContext())

// æ˜¾ç¤ºæ§åˆ¶å™¨
mediaController.show()

mediaController.show(timeout: Int) // åœ¨ timeout ä¸ªå¾®ç§’æ—¶é—´åï¼Œè‡ªåŠ¨éšè—æ§åˆ¶å™¨

// éšè—æ§åˆ¶å™¨
mediaController.hide()

// æ§åˆ¶å™¨æ˜¾ç¤ºçŠ¶æ€ï¼Œè¿”å›å€¼ç±»å‹ï¼šBoolean
mediaController.isShowing()

// æ§åˆ¶æ˜¯å¦æ˜¾ç¤º &lt;ä¸Šä¸€ä¸ª/ä¸‹ä¸€ä¸ªè§†é¢‘&gt; æŒ‰é’®
mediaController.setPrevNextListeners(next: View.OnClickListener!, prev: View.OnClickListener!)
</code></pre>
<hr>
<h3 id="ä¸-MediaPlayerControl-é…åˆä½¿ç”¨"><a href="#ä¸-MediaPlayerControl-é…åˆä½¿ç”¨" class="headerlink" title="ä¸ MediaPlayerControl é…åˆä½¿ç”¨"></a>ä¸ MediaPlayerControl é…åˆä½¿ç”¨</h3><pre><code class="kotlin">mediaController.setMediaPlayer(player: MediaController.MediaPlayControl!)
</code></pre>
<hr>
<h3 id="ä¸-VideoView-é…åˆä½¿ç”¨"><a href="#ä¸-VideoView-é…åˆä½¿ç”¨" class="headerlink" title="ä¸ VideoView é…åˆä½¿ç”¨"></a>ä¸ VideoView é…åˆä½¿ç”¨</h3><pre><code class="kotlin">// ç»‘å®š mediaController åˆ° videoView
mediaController.setAnchorView(view: View!) // Example: mediaController.setAnchorView(mVideoView)
videoView.setMediaController(mediaController)
</code></pre>
<hr>
<h2 id="VideoView"><a href="#VideoView" class="headerlink" title="VideoView"></a>VideoView</h2><blockquote>
<p>Google å®˜æ–¹æ–‡æ¡£ä¸­å¯¹äº <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/widget/VideoView">VideoView</a> çš„ä»‹ç»ï¼š</p>
</blockquote>
<p>Displays a video file. The VideoView class can load images from various sources (such as resources or content providers), takes care of computing its measurement from the video so that it can be used in any layout manager, and provides various display options such as scaling and tinting.</p>
<blockquote>
<p>VideoView = SurfaceView + MediaPlayer + MediaControllerï¼ŒVideoView æ˜¯å¯¹ SurfaceViewï¼ŒMediaPlayerä¸MediaController çš„è§†é¢‘åŒ–å°è£…ï¼Œå¯¹ä¸Šå±‚æä¾›å¼€ç®±å³ç”¨çš„æ¥å£æ–¹æ³•æ”¯æŒã€‚</p>
</blockquote>
<pre><code class="kotlin">// VideoViewæœ‰å¤šç§æ–¹æ³•å¯è¿›è¡Œè§†é¢‘æ’­æ”¾ï¼š
// æ–¹æ³•1ï¼šé€šè¿‡è§†é¢‘Uriè¿›è¡Œè§†é¢‘æ’­æ”¾
videoView.setVideoURI(uri: Uri!)

videoView.setVideoURI(uri: Uri!, headers: (Mutable)Map&lt;String!, String!&gt;)

// æ–¹æ³•2ï¼šé€šè¿‡è§†é¢‘æ–‡ä»¶è·¯å¾„è¿›è¡Œè§†é¢‘æ’­æ”¾ï¼Œè¯¥æ–¹æ³•ä¹Ÿå¯ç”¨äºæ’­æ”¾åœ¨çº¿è§†é¢‘
// è‹¥æ’­æ”¾åœ¨çº¿è§†é¢‘ï¼Œéœ€å…ˆåœ¨ Manifestsæ¸…å•æ–‡ä»¶ ä¸­ç”³è¯·ç½‘ç»œè¯·æ±‚æƒé™:&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;
videoView.setVideoPath(path: String!)

// å¼€å§‹æ’­æ”¾
videoView.start()

// è¯·æ±‚å½“å‰å±å¹•ç„¦ç‚¹è‡³VideoViewï¼Œå¯é…åˆ videoView.start() ä½¿ç”¨
videoView.requestFocus() 

// æ¢å¤æ’­æ”¾
videoView.resume()

// æš‚åœæ’­æ”¾
videoView.pause()

// æ£€æŸ¥å½“å‰æ’­æ”¾è§†é¢‘æ˜¯å¦å¯è¢«æš‚åœï¼Œå¯ç”¨äº App ä»åå°åˆ‡æ¢è‡³å‰å°
videoView.canPause()

// è¯¥æ–¹æ³•ä¼šè°ƒç”¨ mediaPlayer.release() æ–¹æ³•ï¼Œä¼šé‡Šæ”¾å½“å‰ç»‘å®šçš„è§†é¢‘èµ„æº
videoView.stopPlayback()

// è§†é¢‘è·³è‡³ç›®æ ‡ç‚¹æ’­æ”¾
videoView.seekTo(msec: Int)

// æ£€æŸ¥å½“å‰è§†é¢‘å¯è·³è‡³ç›®æ ‡ç‚¹æ’­æ”¾
// Forwardï¼šå‘å‰æ’­æ”¾
// Backwardï¼šå‘åæ’­æ”¾
videoView.canSeekForward()
videoView.canSeekBackward()
</code></pre>
<pre><code class="kotlin">// VideoView è§†é¢‘ç›¸å…³ä¿¡æ¯æ–¹æ³•ï¼š
// è·å–è§†é¢‘æ€»é•¿åº¦ï¼Œè¿”å›å€¼ç±»å‹ï¼šInt
videoView.duration

// è·å–å½“å‰æ’­æ”¾è¿›åº¦ï¼Œè¿”å›å€¼ç±»å‹ï¼šInt
videoView.currentPosition

// æ£€æŸ¥å½“å‰è§†é¢‘æ˜¯å¦æ­£åœ¨æ’­æ”¾ï¼Œè¿”å›å€¼ç±»å‹ï¼šBoolean
videoView.isPlaying

// è§†é¢‘èµ„æºè£…è½½å®Œæˆæ—¶ï¼Œå›è°ƒè¯¥ç›‘å¬å™¨ï¼Œè¯¥ç›‘å¬å™¨ç±»å‹ä¸ºï¼šMediaPlayer.OnPreparedListener
videoView.setOnPreparedListener(listener: MediaPlayer.OnPreparedListener!)

// è§†é¢‘æ’­æ”¾å‡ºé”™æ—¶ï¼Œå›è°ƒè¯¥ç›‘å¬å™¨ï¼Œè¯¥ç›‘å¬å™¨ç±»å‹ä¸ºï¼šMediaPlayer.OnErrorListener
videoView.setOnErrorListener(listener: MediaPlayer.OnErrorListener!)

// è§†é¢‘æ’­æ”¾å®Œæˆæ—¶ï¼Œå›è°ƒè¯¥ç›‘å¬å™¨ï¼Œè¯¥ç›‘å¬å™¨ç±»å‹ä¸ºï¼šMediaPlayer.OnCompletionListener
videoView.setOnCompletionListener(listener: MediaPlayer.OnCompletionListener!)
</code></pre>
<h3 id="ä¸-MediaPlayer-é…åˆä½¿ç”¨"><a href="#ä¸-MediaPlayer-é…åˆä½¿ç”¨" class="headerlink" title="ä¸ MediaPlayer é…åˆä½¿ç”¨"></a>ä¸ MediaPlayer é…åˆä½¿ç”¨</h3><blockquote>
<p>å¾ªç¯æ’­æ”¾</p>
</blockquote>
<pre><code class="kotlin">// æ¨èå†™æ³•ï¼š
videoVideo.setOnPreparedListener &#123; mediaPlayer -&gt; 
    mediaPlayer.isLooping = true
&#125;

// ä¹Ÿå¯åœ¨ setOnCompletionListener ä¸­å¯¹ mediaPlayer è¿›è¡Œè®¾ç½®ï¼ˆæœ¬è´¨ä¸Šåªæ˜¯å¯¹ VideoView ä¸­å°è£…çš„ MediaPlayer è¿›è¡Œå†æ’­æ”¾è®¾ç½®ï¼‰
videoView.setOnCompletionListener &#123; mediaPlayer -&gt;
    mediaPlayer.start()
&#125;
</code></pre>
<hr>
<h2 id="Open-Source-Framework"><a href="#Open-Source-Framework" class="headerlink" title="Open Source Framework"></a>Open Source Framework</h2><h3 id="Mp4Parser"><a href="#Mp4Parser" class="headerlink" title="Mp4Parser"></a>Mp4Parser</h3><blockquote>
<p>ä½œè€…ä»“åº“ README ä¸­å¯¹äº <a target="_blank" rel="noopener" href="https://github.com/sannies/mp4parser">Mp4Parser</a> çš„ä»‹ç»ï¼š</p>
</blockquote>
<p>A Java API to read, write and create MP4 container. Manipulating containers is different from encoding and decoding videos and audio.</p>
<blockquote>
<p>MP4éŸ³è§†é¢‘å¤„ç†ï¼š</p>
<ul>
<li>å°†éŸ³è§†é¢‘æ–‡ä»¶åˆå¹¶åˆ°ä¸€ä¸ªMP4æ–‡ä»¶ï¼›</li>
<li>å°†ç¼–ç æ ¼å¼ç›¸åŒçš„å½•éŸ³è¿›è¡Œæ‹¼æ¥åˆå¹¶ï¼›</li>
<li>æ·»åŠ æˆ–ä¿®æ”¹éŸ³è§†é¢‘å…ƒæ•°æ®ï¼›</li>
<li>é€šè¿‡çœç•¥å¸§ç¼©çŸ­éŸ³è§†é¢‘ï¼›</li>
</ul>
</blockquote>
<hr>
<h3 id="Mp4Composer-Android"><a href="#Mp4Composer-Android" class="headerlink" title="Mp4Composer-Android"></a>Mp4Composer-Android</h3><p><a target="_blank" rel="noopener" href="https://github.com/MasayukiSuda/Mp4Composer-android">Github â€¢ Mp4Composer-Android</a></p>
<blockquote>
<p>ä½œè€…ä»“åº“ README ä¸­å¯¹äº <a target="_blank" rel="noopener" href="https://github.com/MasayukiSuda/Mp4Composer-android">Mp4Composer-Android</a> çš„ä»‹ç»ï¼š</p>
</blockquote>
<p>This library generate an Mp4 movie using Android MediaCodec API and apply filter, scale, trim, transcode, crop, mute and rotate Mp4.</p>
<blockquote>
<p>Android è§†é¢‘å¤„ç†ï¼Œæ·»åŠ æ»¤é•œï¼Œè£å‰ªï¼Œæ—‹è½¬ï¼Œæ”¹å˜å¤§å°ã€‚</p>
</blockquote>
<hr>
<h3 id="SiliCompressor"><a href="#SiliCompressor" class="headerlink" title="SiliCompressor"></a>SiliCompressor</h3><p><a target="_blank" rel="noopener" href="https://github.com/Tourenathan-G5organisation/SiliCompressor">Github â€¢ SiliCompressor</a></p>
<blockquote>
<p>ä½œè€…ä»“åº“ README ä¸­å¯¹äº <a target="_blank" rel="noopener" href="https://github.com/Tourenathan-G5organisation/SiliCompressor">SiliCompressor</a> çš„ä»‹ç»ï¼š</p>
</blockquote>
<p>A powerful, flexible and easy to use Video and Image compression library for Android.</p>
<p>Image: Itâ€™s usually said that â€œA picture is worth a thousand wordsâ€. Images adds flair and beauty to our android apps, but we usaully have problems with these images due to thier large size. With SiliCompressor you can now compress and use your images more smoothly.</p>
<p>Video: Due to the high resolution of our Smartphone cameras and cameras from other devices, Video files have become large in size and thus difficult for it to be shared with others on social apps, social media and even when we need to upload it on our server. With SiliCompressor you can now compress you video file while maintaining it quality.</p>
<blockquote>
<p>å›¾åƒä¸è§†é¢‘å‹ç¼©ã€‚</p>
</blockquote>
<hr>
<h2 id="Wechat-Video-Editor"><a href="#Wechat-Video-Editor" class="headerlink" title="Wechat Video Editor"></a>Wechat Video Editor</h2><blockquote>
<p>æœ¬ç« èŠ‚å°†ä»‹ç»å¦‚ä½•ä»¿åˆ¶ Wechat ï¼ˆå¾®ä¿¡ï¼‰çš„è§†é¢‘ç¼–è¾‘é¡µï¼Œä½¿ç”¨åˆ°çš„æŠ€æœ¯å¦‚ä¸‹ï¼š</p>
</blockquote>
<ul>
<li><p>SurfaceView + MediaPlayer</p>
</li>
<li><p>Custom RangeSeekbar ( Thumbnail RecyclerView + Video Indicator )</p>
</li>
<li><p>Video Clipping &amp; Compress</p>
</li>
</ul>
<hr>
<h3 id="SurfaceView-MediaPlyer"><a href="#SurfaceView-MediaPlyer" class="headerlink" title="SurfaceView + MediaPlyer"></a>SurfaceView + MediaPlyer</h3><blockquote>
<ol>
<li><p>åˆå§‹åŒ– SurfaceView</p>
</li>
<li><p>åˆå§‹åŒ– MediaPlayer</p>
</li>
</ol>
</blockquote>
<pre><code class="kotlin">val mediaPlayer = MediaPlayer()

// é€šè¿‡ Surface + MediaPlayer è¿›è¡Œè§†é¢‘æ’­æ”¾
try &#123;
  // ä»videoPathä¸­åŠ è½½è§†é¢‘èµ„æºï¼Œè¯¥è·¯å¾„å¯ä»¥æ˜¯è§†é¢‘è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç½‘ç»œåœ°å€
  mediaPlayer.setDataSource(videoPath)

  // é…åˆ SurfaceView è¿›è¡Œè§†é¢‘æ¸²æŸ“
  val surface = Surface(surfaceTexture)
  mediaPlayer.setSurface(surface)
  surface.release() // åŠ è½½å®Œæ¯•ååŠæ—¶é‡Šæ”¾ Surface èµ„æº

  // æ§åˆ¶è§†é¢‘å¾ªç¯æ’­æ”¾
  mediaPlayer.isLooping = true

  // è§†é¢‘èµ„æºè£…è½½å®Œæˆæ—¶ï¼Œå›è°ƒè¯¥ç›‘å¬å™¨ï¼Œè¯¥ç›‘å¬å™¨ç±»å‹ä¸ºï¼šMediaPlayer.OnPreparedListener
  // åœ¨è¯¥ç›‘å¬å™¨ä¸­ï¼Œå¯è¿›è¡Œä¸€äº›å¸¸ç”¨ç»„ä»¶çš„è‡ªå®šä¹‰è®¾ç½®ï¼Œæ¯”å¦‚é€šè¿‡è·å–è§†é¢‘å®½é«˜ï¼ŒåŠ¨æ€è°ƒæ•´ç›¸åº”å¸ƒå±€
  mediaPlayer.setOnPreparedListener&#123; player -&gt;
    // å¯å¯¹ Ui å¸ƒå±€è¿›è¡Œé€‚é…ï¼Œå¦‚ï¼šæ ¹æ®è§†é¢‘å®½é«˜åŠ¨æ€è®¾ç½® Ui å¸ƒå±€å®½é«˜
  &#125;

  // è§†é¢‘æ’­æ”¾é¢„å¤„ç†
  mediaPlayer.prepare()

  // æ’­æ”¾è§†é¢‘ï¼Œè¯¥æ–¹æ³•ä¹Ÿå¯ç”¨æ¥æ¢å¤å½“å‰æ’­æ”¾è¿›åº¦
  mediaPlayer.start()
&#125; catch(exception: Exception) &#123;
  println(&quot;mediaPlayer Error&quot;)
&#125;
</code></pre>
<hr>
<h3 id="Thumbnail-RecyclerView"><a href="#Thumbnail-RecyclerView" class="headerlink" title="Thumbnail RecyclerView"></a>Thumbnail RecyclerView</h3><blockquote>
<ol>
<li><p>å‡†å¤‡ RecyclerView Item Layoutï¼ˆæ­¤å¤„çœç•¥ï¼‰</p>
</li>
<li><p>å‡†å¤‡ RecyclerView Adapterï¼ˆæ­¤å¤„çœç•¥ï¼‰</p>
</li>
<li><p>ç»‘å®š RecyclerView OnScrollListener</p>
</li>
</ol>
</blockquote>
<pre><code class="kotlin">private val rvScrollListener: RecyclerView.OnScrollListener = object: RecyclerView.OnScrollListener()&#123;
    override fun onScrollStateChanged(recyclerView: RecyclerView, newState: Int)&#123;
        super.onScrollStateCHanged(recyclerView, newState)
        if (newState == RecyclerView.SCROLL_STATE_IDLE) &#123;
            // RecyclerView åœæ­¢æ»‘åŠ¨ï¼Œè¿›è¡Œç›¸åº”äº‹ä»¶å¤„ç†
        &#125; else &#123;
            // RecyclerView å¼€å§‹æ»‘åŠ¨ï¼Œè¿›è¡Œç›¸åº”äº‹ä»¶å¤„ç†
        &#125;
    &#125;

    override fun onScrolled(recyclerView: RecyclerView, dx: Int, dy: Int)&#123;
        super.onScrolled(recyclerView, dx, dy)
        // RecyclerView æ»‘åŠ¨ä¸­ï¼Œè¿›è¡Œç›¸åº”äº‹ä»¶å¤„ç†
    &#125;
&#125;

// ç»‘å®šæ»‘åŠ¨ç›‘å¬å™¨è‡³ RecyclerView
recyclerView.addOnScrollListener(rvScrollListener)
</code></pre>
<hr>
<h3 id="Video-Indictor"><a href="#Video-Indictor" class="headerlink" title="Video Indictor"></a>Video Indictor</h3><blockquote>
<ol>
<li><p>å‡†å¤‡ Indictor å¤–æ¡†</p>
</li>
<li><p>è®¾ç½® Indictor åŠ¨ç”»</p>
</li>
</ol>
</blockquote>
<hr>
<h3 id="Custom-RangeSeekbar"><a href="#Custom-RangeSeekbar" class="headerlink" title="Custom RangeSeekbar"></a>Custom RangeSeekbar</h3><blockquote>
<ol>
<li><p>ä»è§†é¢‘å…ƒæ•°æ®æŠ½å–é€å¸§é¢„è§ˆå›¾</p>
</li>
<li><p>åŠ è½½é¢„è§ˆå›¾è‡³ Thumbnail RecyclerView</p>
</li>
<li><p>è®¾ç½® RangeSeekbar æ»‘åŠ¨ç›‘å¬</p>
</li>
</ol>
</blockquote>
<hr>
<h3 id="Video-Clipping"><a href="#Video-Clipping" class="headerlink" title="Video Clipping"></a>Video Clipping</h3><blockquote>
<p>æ­¤æ–¹æ¡ˆä½¿ç”¨æ¥è‡ªGIthubçš„å¼€æºè§†é¢‘ç¼–è¾‘åº“ï¼š<a target="_blank" rel="noopener" href="https://github.com/MasayukiSuda/Mp4Composer-android">Mp4Composer-android</a></p>
</blockquote>
<blockquote>
<ol>
<li><p>è®¾ç½®åŸå§‹è§†é¢‘è·¯å¾„ï¼Œè£å‰ªè§†é¢‘è¾“å‡ºè·¯å¾„ï¼Œè§†é¢‘è£å‰ªæ¨¡å¼ç­‰å‚æ•°</p>
</li>
<li><p>åœ¨<code>å­çº¿ç¨‹</code>ä¸­è¿›è¡Œè§†é¢‘è£å‰ª</p>
</li>
<li><p>å°†è£å‰ªå®Œæˆçš„è§†é¢‘è·¯å¾„ä½œä¸ºå¾…å‹ç¼©è§†é¢‘çš„åŸå§‹è·¯å¾„</p>
</li>
</ol>
</blockquote>
<hr>
<h3 id="Video-Compress"><a href="#Video-Compress" class="headerlink" title="Video Compress"></a>Video Compress</h3><blockquote>
<p>æ­¤æ–¹æ¡ˆä½¿ç”¨æ¥è‡ªGithubçš„å¼€æºè§†é¢‘å‹ç¼©åº“ï¼š<a target="_blank" rel="noopener" href="https://github.com/Tourenathan-G5organisation/SiliCompressor">SiliCompressor</a></p>
</blockquote>
<blockquote>
<ol>
<li><p>è®¾ç½®åŸå§‹è§†é¢‘è·¯å¾„ï¼Œå‹ç¼©è§†é¢‘è¾“å‡ºè·¯å¾„</p>
</li>
<li><p>åœ¨<code>å­çº¿ç¨‹</code>ä¸­è¿›è¡Œè§†é¢‘å‹ç¼©</p>
</li>
<li><p>è¾“å‡ºæœ€ç»ˆçš„è§†é¢‘è·¯å¾„</p>
</li>
</ol>
</blockquote>
<pre><code class="kotlin">// SiliCompressor å¯åœ¨å‹ç¼©å‰è®¾ç½®è¾“å‡ºå‚æ•°ï¼ŒåŒ…æ‹¬è¾“å‡ºè§†é¢‘å®½é«˜ä¸æ¯”ç‰¹ç‡

SiliCompressor.with(context).compressVideo(srcUri, destPath)

SiliCompressor.with(context).compressVideo(srcPath, destPath)

SiliCompressor.with(context).compressVideo(srcPath, destPath, outputVideoWidth, outputVideoHeight, outputBitrate)

SiliCompressor.with(context).compressVideo(srcUri, destPath, outputVideoWidth, outputVideoHeight, outputBitrate)
</code></pre>
<hr>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><p>é«˜ä»¿å¾®ä¿¡è§†é¢‘ç¼–è¾‘ + è§†é¢‘æ»¤é•œï¼š<a target="_blank" rel="noopener" href="https://github.com/LLhon/Android-Video-Editor">Github â€¢ Android Video Editor</a></p>
</li>
<li><p>é«˜ä»¿å¾®ä¿¡è§†é¢‘ç¼–è¾‘ï¼š<a target="_blank" rel="noopener" href="https://github.com/ta893115871/VideoEdit">Github â€¢ VideoEdit</a></p>
</li>
</ul>

            <!--[if lt IE 9]>
            <script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls"
                   data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        
                            <li title='0' data-url='https://cdn.jsdelivr.net/gh/PhoenixNest/Blog-Repository@master/Music/StarCraft%20Terran%20Band%20-%20Blood%20and%20Glory.mp3'></li>
                        
                    
                </ul>
            
            
            
            
                <hr>
                <div id="vcomments"></div>
            
        </div>
        <div class="sidebar">
            <div class="box animated fadeInRight">
                <div class="subbox">
                    <img src="/img/portrait.png" height=300 width=300 />
                    <p>PhoenixNest</p>
                    <span>ç”¨å®åŠ›è®©æƒ…æ€€è½åœ°</span>
                    
                </div>
                <ul>
                    <li><a href="/">43 <p>æ–‡ç« </p></a></li>
                    <li><a href="/categories">18 <p>åˆ†ç±»</p></a></li>
                    <li><a href="/tags">35 <p>æ ‡ç­¾</p></a></li>
                </ul>
            </div>
            
                
                
                    <div class="box sticky animated fadeInRight faster">
                        <div id="toc" class="subbox">
                            <h4>ç›®å½•</h4>
                            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">å¼•è¨€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SurfaceView"><span class="toc-number">2.</span> <span class="toc-text">SurfaceView</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MediaPlayer"><span class="toc-number">3.</span> <span class="toc-text">MediaPlayer</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MediaMetadataRetriever"><span class="toc-number">4.</span> <span class="toc-text">MediaMetadataRetriever</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MediaController"><span class="toc-number">5.</span> <span class="toc-text">MediaController</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8E-MediaPlayerControl-%E9%85%8D%E5%90%88%E4%BD%BF%E7%94%A8"><span class="toc-number">5.1.</span> <span class="toc-text">ä¸ MediaPlayerControl é…åˆä½¿ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8E-VideoView-%E9%85%8D%E5%90%88%E4%BD%BF%E7%94%A8"><span class="toc-number">5.2.</span> <span class="toc-text">ä¸ VideoView é…åˆä½¿ç”¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#VideoView"><span class="toc-number">6.</span> <span class="toc-text">VideoView</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8E-MediaPlayer-%E9%85%8D%E5%90%88%E4%BD%BF%E7%94%A8"><span class="toc-number">6.1.</span> <span class="toc-text">ä¸ MediaPlayer é…åˆä½¿ç”¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Open-Source-Framework"><span class="toc-number">7.</span> <span class="toc-text">Open Source Framework</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Mp4Parser"><span class="toc-number">7.1.</span> <span class="toc-text">Mp4Parser</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Mp4Composer-Android"><span class="toc-number">7.2.</span> <span class="toc-text">Mp4Composer-Android</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SiliCompressor"><span class="toc-number">7.3.</span> <span class="toc-text">SiliCompressor</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Wechat-Video-Editor"><span class="toc-number">8.</span> <span class="toc-text">Wechat Video Editor</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SurfaceView-MediaPlyer"><span class="toc-number">8.1.</span> <span class="toc-text">SurfaceView + MediaPlyer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Thumbnail-RecyclerView"><span class="toc-number">8.2.</span> <span class="toc-text">Thumbnail RecyclerView</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Video-Indictor"><span class="toc-number">8.3.</span> <span class="toc-text">Video Indictor</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Custom-RangeSeekbar"><span class="toc-number">8.4.</span> <span class="toc-text">Custom RangeSeekbar</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Video-Clipping"><span class="toc-number">8.5.</span> <span class="toc-text">Video Clipping</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Video-Compress"><span class="toc-number">8.6.</span> <span class="toc-text">Video Compress</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reference"><span class="toc-number">9.</span> <span class="toc-text">Reference</span></a></li></ol>
                        </div>
                    </div>
                
            
        </div>
    </div>
</div>

    </div>
</div>
<div id="back-to-top" class="animated fadeIn faster">
    <div class="flow"></div>
    <span class="percentage animated fadeIn faster">0%</span>
    <span class="iconfont icon-top02 animated fadeIn faster"></span>
</div>
</body>
<footer>
    <p class="copyright" id="copyright">
        &copy; 2024
        <span class="gradient-text">
            PhoenixNest
        </span>.
        Powered by <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a>
    </p>
</footer>

    <script type="text/javascript" src="https://cdn.bootcss.com/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    <script>
        MathJax.Hub.Config({
            "HTML-CSS": {
                preferredFont: "TeX",
                availableFonts: ["STIX", "TeX"],
                linebreaks: {
                    automatic: true
                },
                EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
            },
            tex2jax: {
                inlineMath: [
                    ["$", "$"],
                    ["\\(", "\\)"]
                ],
                processEscapes: true,
                ignoreClass: "tex2jax_ignore|dno",
                skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
            },
            TeX: {
                noUndefined: {
                    attributes: {
                        mathcolor: "red",
                        mathbackground: "#FFEEEE",
                        mathsize: "90%"
                    }
                },
                Macros: {
                    href: "{}"
                }
            },
            messageStyle: "none"
        });
    </script>
    <script>
        function initialMathJax() {
            MathJax.Hub.Queue(function () {
                var all = MathJax.Hub.getAllJax(),
                    i;
                // console.log(all);
                for (i = 0; i < all.length; i += 1) {
                    console.log(all[i].SourceElement().parentNode)
                    all[i].SourceElement().parentNode.className += ' has-jax';
                }
            });
        }

        function reprocessMathJax() {
            if (typeof MathJax !== 'undefined') {
                MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
            }
        }
    </script>




<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/obsidian.js"></script>
<script src="/js/jquery.truncate.js"></script>
<script src="/js/search.js"></script>


<script src="//cdn.bootcss.com/typed.js/2.0.10/typed.min.js"></script>


<script src="//cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script>


<script src="//cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>


<script src="https://cdn.bootcss.com/codemirror/5.48.4/codemirror.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/javascript/javascript.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/css/css.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/xml/xml.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/htmlmixed/htmlmixed.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/clike/clike.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/php/php.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/shell/shell.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/python/python.min.js"></script>

  
<script src="/js/busuanzi.min.js"></script>

<script>
    $(document).ready(function () {
        if ($('span[id^="busuanzi_"]').length) {
            initialBusuanzi();
        }
    });
</script>
 
<link rel="stylesheet" href="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="//cdn.bootcss.com/photoswipe/4.1.3/default-skin/default-skin.min.css">


<script src="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>
  

<script>
    function initialTyped() {
        var typedTextEl = $('.typed-text');
        if (typedTextEl && typedTextEl.length > 0) {
            var typed = new Typed('.typed-text', {
                strings: ['Beyond The World', 'ç”¨å®åŠ›è®©æƒ…æ€€è½åœ°'],
                typeSpeed: 90,
                loop: true,
                loopCount: Infinity,
                backSpeed: 20,
            });
        }
    }

    if ($('.article-header') && $('.article-header').length) {
        $(document).ready(function () {
            initialTyped();
        });
    }
</script>

 
<script src="//unpkg.com/valine/dist/Valine.min.js"></script>

<script>
    var valine = new Valine();

    function initValine(path) {
        if (!path) path = window.location.pathname;
        let language = 'zh-CN';
        if (!language) {
            language = 'en';
        } else {
            language = language.toLowerCase();
        }
        valine.init({
            el: '#vcomments',
            appId: 'HDzkYOSz3NGcQuXbWMLin1mS-gzGzoHsz',
            appKey: 'pJ9JxbsY5D5aEmhxtCSNBlCT',
            notify: '',
            verify: '',
            avatar: '',
            placeholder: 'æ¸©é…’ä¼šçŸ¥éŸ³ ğŸ˜‰',
            visitor: 'true',
            path: path,
            lang: language,
        });
    }

    $(document).ready(function () {
        initValine();
    });
</script>



 <!-- ä¾‹ï¼šç™¾åº¦ç»Ÿè®¡ --> <script> var _hmt = _hmt || []; (function() { var hm = document.createElement("script"); hm.src = "https://hm.baidu.com/hm.js?your_code"; var s = document.getElementsByTagName("script")[0];  s.parentNode.insertBefore(hm, s); })(); </script> 

</html>
