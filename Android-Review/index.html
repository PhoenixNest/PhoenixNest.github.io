
<!DOCTYPE html>
<html lang="zh-CN" class="loading">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Android Review - PhoenixNest&#39;s Blog</title>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate"/>
    
        <meta name="keywords" content="PhoenixNest,PhoenixNest&#39;s Blog,">
    
    
        <meta name="description" content="PhoenixNest&#39;s Blog â€¢ ç”¨å®åŠ›è®©æƒ…æ€€è½åœ°,å¼•è¨€
æœ¬ç¯‡å°†ä»‹ç»æˆ‘åœ¨æ•´ç†æ›¾ç»å­¦ä¹  Androidæ—¶çš„ä¸€äº›ç¬”è®°ï¼Œä¹Ÿç®—æ˜¯å¯¹æ›¾ç»æ‰€å­¦çŸ¥è¯†çš„å›é¡¾ã€‚


å¾…å®Œå–„ingâ€¦â€¦


MVC / MVP / MVVM
MVCï¼šModelï¼ŒViewï¼ŒControll,">
    
    
        <meta name="author" content="PhoenixNest">
    
    
        <link rel="alternative" href="atom.xml" title="PhoenixNest&#39;s Blog" type="application/atom+xml">
    
    
        <link rel="icon" href="/img/favicon.png">
    
    
<link rel="stylesheet" href="//at.alicdn.com/t/font_1429596_nzgqgvnmkjb.css">

    
<link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.7.2/animate.min.css">

    
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">

    
<link rel="stylesheet" href="//cdn.bootcss.com/codemirror/5.48.4/codemirror.min.css">

    
<link rel="stylesheet" href="//cdn.bootcss.com/codemirror/5.48.4/theme/dracula.css">

    
<link rel="stylesheet" href="/css/obsidian.css">

    
<link rel="stylesheet" href="/css/ball-atom.min.css">

    
<meta name="generator" content="Hexo 5.4.0"></head>


<body class="loading">
<div class="loader">
    <div class="la-ball-atom la-2x">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
    </div>
</div>
<span id="config-title" style="display:none">PhoenixNest&#39;s Blog</span>
<div id="loader"></div>
<div id="single">
    <div class="scrollbar gradient-bg-rev"></div>
<div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <div class="navigation animated fadeIn fast delay-1s">
        <img id="home-icon" class="icon-home" src="/img/favicon.png" alt="" data-url="https://phoenixnest.github.io">
        <div id="play-icon" title="Play/Pause" class="iconfont icon-play"></div>
        <h3 class="subtitle">Android Review</h3>
        <div class="social">
            <div>
                <div class="share">
                    
                        <a href="javascript:;" class="iconfont icon-share1"></a>
                        <div class="share-component-cc" data-disabled="facebook,douban,linkedin,diandian,tencent,google"></div>
                    
                </div>
            </div>
        </div>
    </div>
</div>

    <div class="section">
        <div class=article-header-wrapper>
    <div class="article-header">
        <div class="article-cover animated fadeIn" style="
                animation-delay: 600ms;
                animation-duration: 1.2s;
                background-image:
                radial-gradient(ellipse closest-side, rgba(0, 0, 0, 0.65), #100e17),
                url(https://cdn.jsdelivr.net/gh/PhoenixNest/ImageBed@master/Notes/Android/Android.png) ">
        </div>
        <div class="else">
            <p class="animated fadeInDown">
                
                    <a href="/categories/ç»éªŒåˆ†äº«"><b>ã€Œ
                        </b>ç»éªŒåˆ†äº«<b> ã€</b></a>
                
                å››æœˆ 09, 2022
            </p>
            <h3 class="post-title animated fadeInDown"><a href="/Android-Review/" title="Android Review" class="">Android Review</a>
            </h3>
            
                <p class="post-count animated fadeInDown">
                    
                        <span>
                    <b class="iconfont icon-text2"></b> <i>æ–‡ç« å­—æ•°</i>
                    9k
                </span>
                    
                    
                        <span>
                    <b class="iconfont icon-timer__s"></b> <i>é˜…è¯»çº¦éœ€</i>
                    16 mins.
                </span>
                    
                    
                        <span id="/Android-Review/" class="leancloud_visitors"
                              data-flag-title="Android Review">
                    <b class="iconfont icon-read"></b> <i>é˜…è¯»æ¬¡æ•°</i>
                    <span class="leancloud-visitors-count">0</span>
                </span>
                    
                    
                </p>
            
            
                <ul class="animated fadeInDown post-tags-list" itemprop="keywords"><li class="animated fadeInDown post-tags-list-item"><a class="animated fadeInDown post-tags-list-link" href="/tags/%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/" rel="tag">ç»éªŒåˆ†äº«</a></li></ul>
            
        </div>
    </div>
</div>

<div class="screen-gradient-after">
    <div class="screen-gradient-content">
        <div class="screen-gradient-content-inside">
            <div class="bold-underline-links screen-gradient-sponsor">
                <p>
                    <span class="animated fadeIn delay-1s">Beyond The World</span>
                </p>
            </div>
        </div>
    </div>
</div>

<div class="article">
    <div class='main'>
        <div class="content markdown animated fadeIn">
            <h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><blockquote>
<p>æœ¬ç¯‡å°†ä»‹ç»æˆ‘åœ¨æ•´ç†<code>æ›¾ç»å­¦ä¹  Android</code>æ—¶çš„ä¸€äº›ç¬”è®°ï¼Œä¹Ÿç®—æ˜¯å¯¹æ›¾ç»æ‰€å­¦çŸ¥è¯†çš„<code>å›é¡¾</code>ã€‚</p>
</blockquote>
<blockquote>
<p>å¾…å®Œå–„ingâ€¦â€¦</p>
</blockquote>
<hr>
<h2 id="MVC-MVP-MVVM"><a href="#MVC-MVP-MVVM" class="headerlink" title="MVC / MVP / MVVM"></a>MVC / MVP / MVVM</h2><ul>
<li><p>MVCï¼šModelï¼ŒViewï¼ŒController</p>
</li>
<li><p>MVPï¼šModelï¼ŒViewï¼ŒPresenter</p>
</li>
<li><p>MVVMï¼šModelï¼ŒViewï¼ŒViewModel</p>
</li>
</ul>
<blockquote>
<p>æ¶æ„å·®å¼‚</p>
</blockquote>
<ul>
<li><p>MVCï¼šControlleré€šå¸¸ä¸ºActivityï¼Œå°†åŒ…å«æ•°æ®å¤„ç†ä¸é€»è¾‘ä¸šåŠ¡ï¼Œä½†è¯¥æ¨¡å¼ä¸­Activityæ—¢å……å½“ç€Viewä¸Controllerè§’è‰²ï¼Œå°†å¯¼è‡´ä»£ç æåº¦è€¦åˆã€‚</p>
</li>
<li><p>MVPï¼šPresenter æŒæœ‰ Viewæ¥å£ï¼Œä¸ç›´æ¥æ“ä½œViewï¼Œå¹¶åœ¨å…¶ä¸­æ‰§è¡Œä¸šåŠ¡æ“ä½œï¼Œå¯å°†è§†å›¾æ“ä½œä¸ä¸šåŠ¡é€»è¾‘è§£è€¦ï¼Œä½¿ Activity æˆä¸º çœŸæ­£Viewå±‚</p>
</li>
</ul>
<blockquote>
<p>MVVM</p>
</blockquote>
<p>Modelï¼šå®ä½“æ¨¡å‹ã€‚</p>
<p>Viewï¼šå¯¹åº”äºActivityå’ŒXMLï¼Œè´Ÿè´£Viewçš„ç»˜åˆ¶ä»¥åŠç”¨æˆ·äº¤äº’ã€‚</p>
<p>ViewModelï¼šè´Ÿè´£å®ŒæˆViewä¸Modelé—´çš„äº¤äº’ï¼Œè´Ÿè´£ä¸šåŠ¡é€»è¾‘ã€‚</p>
<hr>
<h2 id="åå°„ï¼ˆJavaï¼‰"><a href="#åå°„ï¼ˆJavaï¼‰" class="headerlink" title="åå°„ï¼ˆJavaï¼‰"></a>åå°„ï¼ˆJavaï¼‰</h2><p>ä½¿ç¨‹åºåœ¨è¿è¡Œæ—¶å¯è·å¾—ç±»çš„å‡½æ•°ã€å±æ€§ä¸å…¶å†…éƒ¨çš„ä¸€äº›ä¿¡æ¯ï¼Œé€šè¿‡åå°„ï¼Œå¯åœ¨è¿è¡Œæ—¶ï¼ˆRunningTimeï¼‰å®ä¾‹åŒ–è¿™äº›å‡½æ•°å¹¶è°ƒç”¨è¿™äº›æ–¹æ³•ã€‚</p>
<hr>
<h3 id="è¿›ç¨‹ä¿æ´»"><a href="#è¿›ç¨‹ä¿æ´»" class="headerlink" title="è¿›ç¨‹ä¿æ´»"></a>è¿›ç¨‹ä¿æ´»</h3><hr>
<h3 id="çƒ­æ›´æ–°"><a href="#çƒ­æ›´æ–°" class="headerlink" title="çƒ­æ›´æ–°"></a>çƒ­æ›´æ–°</h3><hr>
<h2 id="Android-Native"><a href="#Android-Native" class="headerlink" title="Android Native"></a>Android Native</h2><h3 id="Activity"><a href="#Activity" class="headerlink" title="Activity"></a>Activity</h3><blockquote>
<p>åœ¨ Google å…¬å¼€ Jetpack åï¼Œå®˜æ–¹æå€¡ å•Activity çš„å¼€å‘æ¨¡å¼ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/PhoenixNest/ImageBed@master/Notes/Android/activity_lifecycle.png" alt="Activity Lifecycle"></p>
<blockquote>
<p>ç”Ÿå‘½å‘¨æœŸ</p>
</blockquote>
<p>Activityå¯åŠ¨ -&gt; onCreate() -&gt; onStart() -&gt; onResume()</p>
<ul>
<li><p>onCreate()ï¼šè®¾ç½®å¸ƒå±€èµ„æºï¼Œæ•°æ®åŠ è½½ï¼Œå›¾ç‰‡é¢„åŠ è½½ã€‚</p>
</li>
<li><p>onStart()ï¼šActivityæš‚æœªå¤„åœ¨å‰å°çŠ¶æ€ï¼Œç”¨æˆ·æ— æ³•å¯¹ Activity è¿›è¡Œè§¦æ‘¸ç‚¹å‡»æˆ–è€…æ»‘åŠ¨ç­‰æ“ä½œã€‚</p>
</li>
<li><p>onResume()ï¼šè°ƒç”¨åï¼Œç”¨æˆ·å³å¯å¯¹Activityè¿›è¡Œæ§åˆ¶ï¼Œä¹Ÿå¯åœ¨è¯¥æ–¹æ³•ä¸­è¿›è¡Œæ•°æ®é¢„åŠ è½½ã€‚</p>
</li>
</ul>
<hr>
<p>Activity ä¸å¯è§ -&gt; onPause() -&gt; onStop()</p>
<ul>
<li><p>onPause()ï¼šè¡¨æ˜ Activity å¤„äºåœæ»çŠ¶æ€ï¼ŒActivity å¯è§ä½†ä¸å¯è¢«æ“ä½œï¼ŒActivityé€€å±…åå°æ—¶è¢«è°ƒç”¨ã€‚</p>
</li>
<li><p>onStop()ï¼šæ•´ä¸ª Activity å¤„äºåå°ä¸å¯è§æˆ–è¢«å…¶ä»– Activity è¦†ç›–ï¼Œè‹¥ç³»ç»Ÿå¤„äºå†…å­˜åƒç´§çŠ¶æ€æ—¶å¯èƒ½ä¼šè¢«ç³»ç»Ÿå›æ”¶ã€‚</p>
</li>
</ul>
<hr>
<p>å†æ¬¡å›åˆ° Activity æ—¶ -&gt; onRestart() -&gt; onStart() -&gt; onResume()</p>
<ul>
<li>onRestart()ï¼šActivityç”±ä¸å¯è§çŠ¶æ€åˆ°å¯è§çŠ¶æ€æ—¶è°ƒç”¨ï¼Œå¸¸è§åœºæ™¯ä¸ºåå°Appé‡æ–°å›åˆ°å‰å°ã€‚</li>
</ul>
<hr>
<p>é€€å‡ºå½“å‰Activityæ—¶ -&gt; onPause() -&gt; onStop -&gt; onDestroy()</p>
<ul>
<li>onDestroy()ï¼šæœ€åä¸€ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œèµ„æºé‡Šæ”¾ã€å†…å­˜å›æ”¶ã€‚</li>
</ul>
<hr>
<blockquote>
<p>è¿›ç¨‹ä¼˜å…ˆçº§</p>
</blockquote>
<p>ç”±é«˜åˆ°ä½ä»¥æ­¤ä¸ºï¼š</p>
<p>å‰å° / å¯è§ / æœåŠ¡ / åå° / ç©º</p>
<hr>
<blockquote>
<p>å¯åŠ¨æ¨¡å¼</p>
</blockquote>
<ul>
<li><p>standardï¼šæ™®é€šæ¨¡å¼ï¼Œä¼šèµ°æ‰€æœ‰ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œå¯¹å†…å­˜æœ‰å¾ˆæ¶ˆè€—ã€‚</p>
</li>
<li><p>singleTopï¼š<code>æ ˆé¡¶å¤ç”¨</code>æ¨¡å¼ï¼Œåˆ¤æ–­å¾…åˆ›å»ºçš„Activityæ˜¯å¦å·²ä½äºæ ˆé¡¶ï¼Œè‹¥å¾…åˆ›å»ºActivityå·²ä½äºæ ˆé¡¶ï¼Œåˆ™ä¼šå¤ç”¨æ ˆé¡¶ Activityï¼›è‹¥æ²¡æœ‰ï¼Œåˆ™è¿˜æ˜¯ä¼šèµ°æ‰€æœ‰ç”Ÿå‘½å‘¨æœŸã€‚</p>
</li>
<li><p>singleTaskï¼š<code>æ ˆå†…å¤ç”¨</code>æ¨¡å¼ï¼Œæ£€æµ‹æ•´ä¸ªä»»åŠ¡æ ˆä¸­æ˜¯å¦å­˜åœ¨å½“å‰éœ€è¦å¯åŠ¨çš„Activityï¼Œè‹¥å­˜åœ¨ï¼Œåˆ™ç›´æ¥ç½®äºæ ˆé¡¶ï¼Œå¹¶å°†å·²æœ‰ æ ˆé¡¶Activity å…¨æ•°é”€æ¯ï¼Œå¹¶å›è°ƒ onNewIntent() æ–¹æ³•</p>
</li>
<li><p>singleInstanceï¼š<code>ç‹¬äº«</code>æ¨¡å¼ï¼Œè‹¥Activityåœ¨æ•´ä¸ªAppä¸­åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œä¸”ç‹¬å ä¸€ä¸ªä»»åŠ¡æ ˆï¼Œåˆ™ç§°ä¸ºç‹¬äº«æ¨¡å¼ã€‚</p>
</li>
</ul>
<hr>
<blockquote>
<p>æ•°æ®é€šä¿¡</p>
</blockquote>
<ul>
<li>åœ¨ Activity ä¹‹é—´å‘é€æ•°æ®ï¼ˆBundleï¼‰</li>
</ul>
<p>æ“ä½œç³»ç»Ÿä¼šå°† intent çš„åŸºç¡€ Bundle æ‰“åŒ…ã€‚ç„¶åï¼Œæ“ä½œç³»ç»Ÿä¼šåˆ›å»ºæ–°çš„ Activityï¼Œå°†æ•°æ®æ‹†åŒ…ï¼Œå¹¶å°† intent ä¼ é€’ç»™æ–°çš„ Activityã€‚</p>
<ul>
<li>åœ¨è¿›ç¨‹ä¹‹é—´å‘é€æ•°æ®ï¼ˆParcelableï¼‰</li>
</ul>
<hr>
<h3 id="Fragment"><a href="#Fragment" class="headerlink" title="Fragment"></a>Fragment</h3><blockquote>
<p>ç”Ÿå‘½å‘¨æœŸ</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/PhoenixNest/ImageBed@master/Notes/Android/fragment-view-lifecycle.png" alt="Fragment Lifecycle"></p>
<blockquote>
<p>Fragment é€šä¿¡</p>
</blockquote>
<ul>
<li><p>åœ¨<code>Fragment</code>ä¸­ è°ƒç”¨<code>Activity</code>ä¸­ çš„æ–¹æ³• <code>GetActivity</code>ï¼ˆF -&gt; Aï¼‰</p>
</li>
<li><p>åœ¨<code>Activity</code>ä¸­ è°ƒç”¨<code>Fragment</code>ä¸­ çš„æ–¹æ³•è¿›è¡Œ <code>æ¥å£å›è°ƒ</code>ï¼ˆA -&gt; Fï¼‰</p>
</li>
<li><p>åœ¨<code>Fragment</code>ä¸­ è°ƒç”¨<code>Fragment</code>ä¸­ çš„æ–¹æ³• <code>findFragmentById</code> ï¼ˆF -&gt; Fï¼‰</p>
</li>
</ul>
<blockquote>
<p>replaceã€addã€remove</p>
</blockquote>
<hr>
<h3 id="Service"><a href="#Service" class="headerlink" title="Service"></a>Service</h3><blockquote>
<p>åº”ç”¨åœºæ™¯</p>
</blockquote>
<blockquote>
<p>ä¸ Thread åŒºåˆ«</p>
</blockquote>
<blockquote>
</blockquote>
<hr>
<h3 id="Content-Provider"><a href="#Content-Provider" class="headerlink" title="Content Provider"></a>Content Provider</h3><hr>
<h3 id="Broadcast-Receiver"><a href="#Broadcast-Receiver" class="headerlink" title="Broadcast Receiver"></a>Broadcast Receiver</h3><hr>
<h3 id="Handler"><a href="#Handler" class="headerlink" title="Handler"></a>Handler</h3><hr>
<h2 id="Android-Jetpack"><a href="#Android-Jetpack" class="headerlink" title="Android Jetpack"></a>Android Jetpack</h2><p>Jetpack æ˜¯ä¸€ä¸ªæ¶æ„ç»„ä»¶åº“ï¼Œå…¶ä¸­ä»»ä½•ä¸€ä¸ªç»„ä»¶ä¹Ÿå¯ç‹¬ç«‹æ‹†åˆ†ä½¿ç”¨ï¼Œé‡‡ç”¨ç”± Google å®˜æ–¹æ¨èçš„ MVVM æ¶æ„ï¼ˆModelã€Viewã€ViewModelï¼‰ï¼Œæ—¨åœ¨ä¸ºå¼€å‘è€…æä¾›å¼€ç®±å³ç”¨çš„å¿«é€Ÿå¼€å‘ä½“éªŒã€‚</p>
<blockquote>
<p>ä¸»è¦çš„ Jetpack æ¡†æ¶ç»„ä»¶ï¼š</p>
</blockquote>
<ul>
<li><p>Lifecycleï¼ˆç”Ÿå‘½å‘¨æœŸï¼‰</p>
</li>
<li><p>LiveDataï¼ˆè§‚å¯Ÿè€…æ¨¡å¼çš„æ•°æ®ç›‘æ§ï¼‰</p>
</li>
<li><p>ViewModelï¼ˆçŠ¶æ€ç®¡ç†ï¼Œé¡µé¢é€šä¿¡ï¼‰</p>
</li>
<li><p>ViewBinding or DataBindingï¼ˆæ•°æ®åŒå‘ç»‘å®šä¸Uiè®¿é—®æ§åˆ¶ï¼‰</p>
</li>
<li><p>Navigationï¼ˆé¡µé¢ç®¡ç†ï¼‰</p>
</li>
<li><p>Pagingï¼ˆåˆ†é¡µï¼‰</p>
</li>
<li><p>WorkManagerï¼ˆå¤šçº¿ç¨‹å¤„ç†ï¼‰</p>
</li>
<li><p>ROOMï¼ˆæ•°æ®åº“æ¥å£ï¼‰</p>
</li>
</ul>
<blockquote>
<p>ç»„ä»¶åº“æä¾›çš„æ–° Ui ç»„ä»¶</p>
</blockquote>
<ul>
<li><p>Jetpack Composeï¼ˆå£°æ˜å¼Uiï¼Œæ‰€è§å³æ‰€å¾—ï¼‰</p>
</li>
<li><p>ViewPager2</p>
</li>
</ul>
<hr>
<h3 id="Lifecycle"><a href="#Lifecycle" class="headerlink" title="Lifecycle"></a>Lifecycle</h3><p>å¸¸è§çš„ Lifecycle ç»„ä»¶ç”¨æ³•æ˜¯é€šè¿‡å…¶æä¾›çš„è§‚å¯Ÿè€…æ¨¡å¼ï¼Œå°†ç”Ÿå‘½å‘¨æœŸçš„å¤æ‚æ“ä½œè¿›è¡Œå°è£…ï¼Œå¼€å‘è€…åªéœ€åœ¨è§†å›¾æ§åˆ¶å™¨ï¼ˆé…åˆViewBindingæˆ–DataBindingä½¿ç”¨ï¼‰ä¸­æ³¨å†Œç”Ÿå‘½å‘¨æœŸæŒæœ‰è€…ï¼Œå³å¯ä¼˜é›…å®Œæˆå¯¹å½“å‰ Activity æˆ– Fragment ç”Ÿå‘½å‘¨æœŸæ§åˆ¶ã€‚</p>
<hr>
<h3 id="LiveData"><a href="#LiveData" class="headerlink" title="LiveData"></a>LiveData</h3><p>LiveDataçš„å‡ºç°ä¸»è¦æ˜¯ä¸ºäº†å¸®åŠ©å¼€å‘è€…éµå¾ª â€œé€šè¿‡å”¯ä¸€å¯ä¿¡æºåˆ†å‘çŠ¶æ€â€ çš„æ ‡å‡†åŒ–å¼€å‘ç†å¿µã€‚</p>
<p>é€šè¿‡ä¸Lifecycleé…åˆä½¿ç”¨ï¼Œä»¥è§‚å¯Ÿè€…æ¨¡å¼å°†Uiä¸æ•°æ®åŠ¨æ€è§£è€¦ï¼Œä½¿Uièƒ½åŠ¨æ€å“åº”æ•°æ®å˜åŒ–ï¼ŒLiveDataä»…åœ¨å½“å‰çŠ¶æ€ä¸º STARTED æˆ– RESUMED æ—¶æ‰ä¼šé€šçŸ¥ Ui è¿›è¡Œæ›´æ–°ã€‚</p>
<blockquote>
<p>LiveData å¸¦æ¥çš„ä¼˜ç‚¹ï¼š</p>
</blockquote>
<ul>
<li><p>ç¡®ä¿ Ui ä¸æ•°æ®å§‹ç»ˆä¿æŒä¸€è‡´ï¼šLiveData å°†æ—¶åˆ»å…³æ³¨è¢«èµ‹äºˆ Observer çš„å¯¹è±¡ï¼Œå½“ä½ çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ— éœ€æ‰‹åŠ¨å¯¹ Ui è¿›è¡Œé‡ç»˜ï¼ŒLiveDataå°†è‡ªåŠ¨é€šçŸ¥ Ui æ›´æ–°æ•°æ®ã€‚</p>
</li>
<li><p>å‡å°‘å†…å­˜æ³„æ¼ï¼šç”±äº Observer å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸä¸å½“å‰ Activity æˆ– Fragmentç»‘å®šï¼ŒLiveDataå°†è‡ªåŠ¨å¯¹å·²è¿›å…¥ Destroyed çŠ¶æ€çš„å¯¹è±¡è¿›è¡Œæ¸…ç†ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦çš„å†…å­˜æ³„æ¼ã€‚è‹¥å½“å‰ Activity æˆ– Fragment åœ¨æ ˆåŒºä¸­å¤„äºä¸æ´»è·ƒçŠ¶æ€ï¼ŒLiveDataåˆ™ä¸ä¼šæ¥æ”¶ä»»ä½•å¯¹äºæ•°æ®çš„æ›´æ–°ç›´åˆ°ç»‘å®šå¯¹è±¡é‡æ–°ä½äºå‰å°æ´»è·ƒçŠ¶æ€ã€‚</p>
</li>
<li><p>å‡å°‘é€šè¿‡äººä¸ºæ‰‹æ®µå¯¹ç”Ÿå‘½å‘¨æœŸçš„ç®¡ç†ç›‘æ§ï¼šLiveDataèƒ½å¤Ÿè‡ªåŠ¨ç®¡ç†å…¶ç»‘å®šå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¹¶åœ¨ App å¤„äºå‰/åå°çŠ¶æ€æ—¶è‡ªåŠ¨æ›´æ–°å…¶çŠ¶æ€ã€‚</p>
</li>
</ul>
<hr>
<h3 id="ViewModel"><a href="#ViewModel" class="headerlink" title="ViewModel"></a>ViewModel</h3><hr>
<h3 id="ViewBinding-ä¸-DataBinding"><a href="#ViewBinding-ä¸-DataBinding" class="headerlink" title="ViewBinding ä¸ DataBinding"></a>ViewBinding ä¸ DataBinding</h3><blockquote>
<p>ä¸ä½¿ç”¨ findViewById ç›¸æ¯”ï¼Œè§†å›¾ç»‘å®šï¼ˆViewBindingï¼‰å…·æœ‰ä¸€äº›å¾ˆæ˜¾è‘—çš„ä¼˜ç‚¹ï¼š</p>
</blockquote>
<ul>
<li><p>Null å®‰å…¨ï¼šç”±äºè§†å›¾ç»‘å®šä¼šåˆ›å»ºå¯¹è§†å›¾çš„ç›´æ¥å¼•ç”¨ï¼Œå› æ­¤ä¸å­˜åœ¨å› è§†å›¾ ID æ— æ•ˆè€Œå¼•å‘ Null æŒ‡é’ˆå¼‚å¸¸çš„é£é™©ã€‚æ­¤å¤–ï¼Œå¦‚æœè§†å›¾ä»…å‡ºç°åœ¨å¸ƒå±€çš„æŸäº›é…ç½®ä¸­ï¼Œåˆ™ç»‘å®šç±»ä¸­åŒ…å«å…¶å¼•ç”¨çš„å­—æ®µä¼šä½¿ç”¨ @Nullable æ ‡è®°ã€‚</p>
</li>
<li><p>ç±»å‹å®‰å…¨ï¼šæ¯ä¸ªç»‘å®šç±»ä¸­çš„å­—æ®µå‡å…·æœ‰ä¸å®ƒä»¬åœ¨ XML æ–‡ä»¶ä¸­å¼•ç”¨çš„è§†å›¾ç›¸åŒ¹é…çš„ç±»å‹ã€‚è¿™æ„å‘³ç€ä¸å­˜åœ¨å‘ç”Ÿç±»è½¬æ¢å¼‚å¸¸çš„é£é™©ã€‚<br>è¿™äº›å·®å¼‚æ„å‘³ç€å¸ƒå±€å’Œä»£ç ä¹‹é—´çš„ä¸å…¼å®¹å°†ä¼šå¯¼è‡´æ„å»ºåœ¨ç¼–è¯‘æ—¶ï¼ˆè€Œéè¿è¡Œæ—¶ï¼‰å¤±è´¥ã€‚</p>
</li>
</ul>
<blockquote>
<p>ä¸æ•°æ®ç»‘å®šçš„å¯¹æ¯”</p>
</blockquote>
<p>è§†å›¾ç»‘å®šå’Œæ•°æ®ç»‘å®šå‡ä¼šç”Ÿæˆå¯ç”¨äºç›´æ¥å¼•ç”¨è§†å›¾çš„ç»‘å®šç±»ã€‚ä½†æ˜¯ï¼Œè§†å›¾ç»‘å®šæ—¨åœ¨å¤„ç†æ›´ç®€å•çš„ç”¨ä¾‹ï¼Œä¸æ•°æ®ç»‘å®šç›¸æ¯”ï¼Œå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<ul>
<li><p>æ›´å¿«çš„ç¼–è¯‘é€Ÿåº¦ï¼šè§†å›¾ç»‘å®šä¸éœ€è¦å¤„ç†æ³¨é‡Šï¼Œå› æ­¤ç¼–è¯‘æ—¶é—´æ›´çŸ­ã€‚</p>
</li>
<li><p>æ˜“äºä½¿ç”¨ï¼šè§†å›¾ç»‘å®šä¸éœ€è¦ç‰¹åˆ«æ ‡è®°çš„ XML å¸ƒå±€æ–‡ä»¶ï¼Œå› æ­¤åœ¨åº”ç”¨ä¸­é‡‡ç”¨é€Ÿåº¦æ›´å¿«ã€‚åœ¨æ¨¡å—ä¸­å¯ç”¨è§†å›¾ç»‘å®šåï¼Œå®ƒä¼šè‡ªåŠ¨åº”ç”¨äºè¯¥æ¨¡å—çš„æ‰€æœ‰å¸ƒå±€ã€‚</p>
</li>
</ul>
<blockquote>
<p>åè¿‡æ¥ï¼Œä¸æ•°æ®ç»‘å®šï¼ˆDataBindingï¼‰ç›¸æ¯”ï¼Œè§†å›¾ç»‘å®šä¹Ÿå…·æœ‰ä»¥ä¸‹é™åˆ¶ï¼š</p>
</blockquote>
<ul>
<li><p>è§†å›¾ç»‘å®šä¸æ”¯æŒå¸ƒå±€å˜é‡æˆ–å¸ƒå±€è¡¨è¾¾å¼ï¼Œå› æ­¤ä¸èƒ½ç”¨äºç›´æ¥åœ¨ XML å¸ƒå±€æ–‡ä»¶ä¸­å£°æ˜åŠ¨æ€ç•Œé¢å†…å®¹ã€‚</p>
</li>
<li><p>è§†å›¾ç»‘å®šä¸æ”¯æŒåŒå‘æ•°æ®ç»‘å®šã€‚</p>
</li>
</ul>
<blockquote>
<p>è€ƒè™‘åˆ°è¿™äº›å› ç´ ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæœ€å¥½åœ¨é¡¹ç›®ä¸­åŒæ—¶ä½¿ç”¨è§†å›¾ç»‘å®šå’Œæ•°æ®ç»‘å®šã€‚æ‚¨å¯ä»¥åœ¨éœ€è¦é«˜çº§åŠŸèƒ½çš„å¸ƒå±€ä¸­ä½¿ç”¨æ•°æ®ç»‘å®šï¼Œè€Œåœ¨ä¸éœ€è¦é«˜çº§åŠŸèƒ½çš„å¸ƒå±€ä¸­ä½¿ç”¨è§†å›¾ç»‘å®šã€‚</p>
</blockquote>
<hr>
<h3 id="Navigation"><a href="#Navigation" class="headerlink" title="Navigation"></a>Navigation</h3><p>ä¸ IOSå¼€å‘ ä¸­çš„æ•…äº‹æ¿ä¸€æ ·ï¼ŒJetpackä¸º<code>å¯¼èˆª</code>æä¾›Navigationç»„ä»¶ä»¥ç®¡æ§å„é¡µé¢é—´çš„å…³è”è·³è½¬ã€‚ä½¿ç”¨äº† Navigationç»„ä»¶ æ„å»ºçš„Appé€šå¸¸éœ€è¦æœ‰ä¸€ä¸ªå…¶å®ç›®çš„åœ°ï¼Œåœ¨åº”ç”¨ä¸­ï¼Œ<code>backæ“ä½œ</code> ä¸ <code>pop upæ“ä½œ</code>å°†ä¼šèµ·åˆ°ä¸€æ ·çš„ä½œç”¨ã€‚</p>
<blockquote>
<p>å¯¼èˆªç»„ä»¶æä¾›å„ç§å…¶ä»–ä¼˜åŠ¿ï¼ŒåŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š</p>
</blockquote>
<ul>
<li><p>å¤„ç† Fragment äº‹åŠ¡ã€‚</p>
</li>
<li><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­£ç¡®å¤„ç†å¾€è¿”æ“ä½œã€‚</p>
</li>
<li><p>ä¸ºåŠ¨ç”»å’Œè½¬æ¢æä¾›æ ‡å‡†åŒ–èµ„æºã€‚</p>
</li>
<li><p>å®ç°å’Œå¤„ç†æ·±å±‚é“¾æ¥ã€‚</p>
</li>
<li><p>åŒ…æ‹¬å¯¼èˆªç•Œé¢æ¨¡å¼ï¼ˆä¾‹å¦‚æŠ½å±‰å¼å¯¼èˆªæ å’Œåº•éƒ¨å¯¼èˆªï¼‰ï¼Œç”¨æˆ·åªéœ€å®Œæˆæå°‘çš„é¢å¤–å·¥ä½œã€‚</p>
</li>
<li><p>Safe Args - å¯åœ¨ç›®æ ‡ä¹‹é—´å¯¼èˆªå’Œä¼ é€’æ•°æ®æ—¶æä¾›ç±»å‹å®‰å…¨çš„ Gradle æ’ä»¶ã€‚</p>
</li>
<li><p>ViewModel æ”¯æŒ - æ‚¨å¯ä»¥å°† ViewModel çš„èŒƒå›´é™å®šä¸ºå¯¼èˆªå›¾ï¼Œä»¥åœ¨å›¾è¡¨çš„ç›®æ ‡ä¹‹é—´å…±äº«ä¸ç•Œé¢ç›¸å…³çš„æ•°</p>
</li>
</ul>
<hr>
<h3 id="WorkManager"><a href="#WorkManager" class="headerlink" title="WorkManager"></a>WorkManager</h3><hr>
<h3 id="ROOM"><a href="#ROOM" class="headerlink" title="ROOM"></a>ROOM</h3><p>Room æŒä¹…æ€§åº“åœ¨ SQLite çš„åŸºç¡€ä¸Šæä¾›äº†ä¸€ä¸ªæŠ½è±¡å±‚ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿåœ¨å……åˆ†åˆ©ç”¨ SQLite çš„å¼ºå¤§åŠŸèƒ½çš„åŒæ—¶ï¼Œè·äº«æ›´å¼ºå¥çš„æ•°æ®åº“è®¿é—®æœºåˆ¶ã€‚</p>
<blockquote>
<p>å…·ä½“æ¥è¯´ï¼ŒROOMå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
</blockquote>
<ul>
<li><p>é’ˆå¯¹ SQL æŸ¥è¯¢çš„ç¼–è¯‘æ—¶éªŒè¯ã€‚</p>
</li>
<li><p>å¯æœ€å¤§é™åº¦å‡å°‘é‡å¤å’Œå®¹æ˜“å‡ºé”™çš„æ ·æ¿ä»£ç çš„æ–¹ä¾¿æ³¨è§£ã€‚</p>
</li>
<li><p>ç®€åŒ–äº†æ•°æ®åº“è¿ç§»è·¯å¾„ã€‚</p>
</li>
</ul>
<blockquote>
<p>ROOM æ¦‚è§ˆ</p>
</blockquote>
<ul>
<li>Entity</li>
</ul>
<p>ROOM ä½¿ç”¨ @Entity æ³¨è§£å¯¹ç±»è¿›è¡Œæ ‡è¯†ï¼Œæ•°æ®å®ä½“é€šå¸¸ä¸ºæ•°æ®åº“ä¸­çš„ä¸€è¡Œï¼Œå¦‚å¸¸è§çš„ Userå®ä½“ï¼Œé€šå¸¸ä¼šåŒ…æ‹¬å«<code>ä¸»é”®id</code>åœ¨å†…çš„å§“åï¼Œæ˜µç§°ï¼Œå‡ºç”Ÿæ—¥æœŸï¼Œæ€§åˆ«ç­‰åˆ—å±æ€§ã€‚</p>
<p>å¯¹äº<code>ä¸»é”®</code>ï¼Œå¯ä½¿ç”¨ @PrimaryKey å¯¹å…¶è¿›è¡Œæ ‡æ³¨ï¼Œå¹¶ä½¿ç”¨ uniqueå±æ€§ æŒ‡å®šå”¯ä¸€æ€§ï¼›</p>
<p>å¯¹äº<code>åˆ—å±æ€§</code>ï¼Œå¯ä½¿ç”¨ @ColumInfo å¯¹å…¶è¿›è¡Œæ ‡æ³¨ï¼Œå¹¶é€šè¿‡ nameå±æ€§ æŒ‡å®šåˆ«åã€‚</p>
<ul>
<li>Dao</li>
</ul>
<p>æ•°æ®è®¿é—®å¯¹è±¡ï¼ˆData Access Objectï¼‰ï¼Œå¼€å‘è€…å¯é€šè¿‡ä½¿ç”¨ Daoï¼Œå¯¹æ•°æ®å®ä½“ä»¥åŠæ•°æ®åº“è¿›è¡Œäº¤äº’ï¼ŒåŒ…æ‹¬å¸¸è§çš„ CURDæ“ä½œã€‚</p>
<p>å¸¸è§çš„<code>Daoæ³¨è§£</code>æœ‰ï¼š@Insertï¼Œ@Update, @Deleteï¼Œ@Query</p>
<ul>
<li>Database</li>
</ul>
<p>åœ¨ä½¿ç”¨æ•°æ®åº“ä¹‹å‰é€šå¸¸éœ€è¦å¯¹æ•°æ®åº“å®ä¾‹è¿›è¡Œåˆå§‹åŒ–ï¼Œè¿™ä¸€æ“ä½œæœ€å¥½åœ¨ ViewModel ä¸­è¿›è¡Œï¼Œé€šè¿‡ä¸ ViewModel è¿›è¡Œç”Ÿå‘½å‘¨æœŸç»‘å®šï¼Œä½¿å…¶èƒ½ä¸ æ•´ä½“App ç”Ÿå‘½å‘¨æœŸç»Ÿä¸€ç®¡ç†ã€‚</p>
<p>é€šè¿‡ç»§æ‰¿ RoomDatabase å¹¶è¿›è¡Œå•ä¾‹æ“ä½œï¼Œä»¥åˆ›å»ºå…¨å±€å”¯ä¸€æ•°æ®åº“å®ä¾‹ã€‚</p>
<blockquote>
<p>å±€é™æ€§</p>
</blockquote>
<p>ç”±äºæ•°æ®åº“æ“ä½œé€šå¸¸æ˜¯è€—æ—¶æ“ä½œï¼ŒGoogle Androidå®˜æ–¹ä¸æ¨èå°† ROOM ç›´æ¥åº”ç”¨äºä¸»çº¿ç¨‹ä¸­ï¼Œè€Œæ˜¯ä»¥å¼‚æ­¥çš„å½¢å¼åœ¨åå°è¿›è¡Œæ•°æ®å¤„ç†ï¼Œé€šå¸¸é…åˆ AsyncTask è¿›è¡Œå¼‚æ­¥ä½¿ç”¨ã€‚</p>
<hr>
<h3 id="Paging"><a href="#Paging" class="headerlink" title="Paging"></a>Paging</h3><p>é€šè¿‡ä¸ROOMè¿›è¡Œé…åˆï¼ŒPagingåº“ èƒ½è½»æ¾å¯¹æ‰€æ¥å—æ•°æ®è¿›è¡Œåˆ†é¡µã€‚</p>
<hr>
<h3 id="Jetpack-Compose"><a href="#Jetpack-Compose" class="headerlink" title="Jetpack Compose"></a>Jetpack Compose</h3><hr>
<h2 id="Flutter"><a href="#Flutter" class="headerlink" title="Flutter"></a>Flutter</h2><blockquote>
<p>ä¼˜åŠ¿</p>
</blockquote>
<ul>
<li><p>ç¼–è¯‘ä¸ºæœ¬åœ°æœºå™¨ç ï¼Œæ”¯æŒè·¨å¹³å°ï¼Œä»£ç ç®€æ´ã€‚</p>
</li>
<li><p>ä¸ä½¿ç”¨ JavaScript çš„React-Native å¯¹æ¯”ï¼Œæ€§èƒ½æ›´é«˜æ•ˆä¸”æ”¯æŒæ›´å¤šå¹³å°ã€‚</p>
</li>
</ul>
<hr>
<blockquote>
<p>å±‚çº§</p>
</blockquote>
<ul>
<li><p>Frameworkï¼šDartå±‚ï¼Œä¸º Dart ä¸Šçº§Api æä¾›æ”¯æŒã€‚</p>
</li>
<li><p>Engineï¼šå¼•æ“å±‚ï¼ŒåŒ…å« Skiaã€Dart å’Œ Textã€‚</p>
</li>
<li><p>Embedderï¼šåµŒå…¥å±‚ï¼Œä½¿ Flutter èƒ½åµŒå…¥åˆ°ä»»ä½•å¹³å°ã€‚</p>
</li>
</ul>
<hr>
<blockquote>
<p>ä¸ºä»€ä¹ˆä½¿ç”¨ Dart</p>
</blockquote>
<ul>
<li><p>DartVM å¯ç¼–è¯‘ä¸º ARMä»£ç ï¼Œç›´æ¥è¿è¡Œåœ¨ç¡¬ä»¶ä¸Šã€‚</p>
</li>
<li><p>ä½¿ç”¨isolateå®ç°å¤šçº¿ç¨‹ï¼Œä¸”ä¸å…±äº«å†…å­˜ï¼Œå¯å®ç°æ— é”å¿«é€Ÿåˆ†é…ã€‚</p>
</li>
<li><p>çº¿æ€§æŒ‡é’ˆï¼Œä¿è¯å†…å­˜çº¿æ€§å¢é•¿ã€‚</p>
</li>
<li><p>åº•å±‚ä¸º OpenGLç»˜åˆ¶åº“ï¼Œå…ˆè°ƒç”¨OpenGL åè°ƒç”¨æ“ä½œç³»ç»ŸAPIï¼Œæ€§èƒ½æ¥è¿‘åŸç”Ÿæ¸²æŸ“ã€‚</p>
</li>
</ul>
<hr>
<blockquote>
<p>æ··åˆå¼€å‘</p>
</blockquote>
<p>å°† ç°æœ‰Flutteré¡¹ç›® æ‰“åŒ…æˆ jaråŒ… æˆ– soåº“ï¼Œé›†æˆåˆ°å…¶ä»–å¹³å°ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://flutter.cn/docs/development/add-to-app">å°† Flutter é›†æˆåˆ°ç°æœ‰åº”ç”¨ â€¢ Flutter.cn</a></p>
<ul>
<li>æ­¥éª¤1ï¼šåœ¨ AndroidManifest.xml ä¸­æ·»åŠ  FlutterActivity</li>
</ul>
<p>Flutter æä¾›äº† FlutterActivityï¼Œç”¨äºåœ¨ Android åº”ç”¨å†…éƒ¨å±•ç¤ºä¸€ä¸ª Flutter çš„äº¤äº’ç•Œé¢ã€‚å’Œå…¶ä»–çš„ Activity ä¸€æ ·ï¼ŒFlutterActivity å¿…é¡»åœ¨é¡¹ç›®çš„ AndroidManifest.xml æ–‡ä»¶ä¸­æ³¨å†Œã€‚å°†ä¸‹è¾¹çš„ XML ä»£ç æ·»åŠ åˆ°ä½ çš„ AndroidManifest.xml æ–‡ä»¶ä¸­çš„ application æ ‡ç­¾å†…ï¼š</p>
<pre><code class="xml">&lt;activity
  android:name=&quot;io.flutter.embedding.android.FlutterActivity&quot;
  android:theme=&quot;@style/LaunchTheme&quot;
  android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot;
  android:hardwareAccelerated=&quot;true&quot;
  android:windowSoftInputMode=&quot;adjustResize&quot;
  /&gt;
</code></pre>
<p>ä¸Šè¿°ä»£ç ä¸­çš„ @style/LaunchTheme å¯ä»¥æ›¿æ¢ä¸ºæƒ³è¦åœ¨ä½ çš„ FlutterActivity ä¸­ä½¿ç”¨çš„å…¶ä»– Android ä¸»é¢˜ã€‚ä¸»é¢˜çš„é€‰æ‹©å†³å®š Android ç³»ç»Ÿå±•ç¤ºæ¡†æ¶æ‰€ä½¿ç”¨çš„é¢œè‰²ï¼Œä¾‹å¦‚ Android çš„å¯¼èˆªæ ï¼Œä»¥åŠ Flutter UI è‡ªèº«çš„ç¬¬ä¸€æ¬¡æ¸²æŸ“å‰ FlutterActivity çš„èƒŒæ™¯è‰²ã€‚</p>
<hr>
<ul>
<li>æ­¥éª¤ 2ï¼šåŠ è½½ FlutterActivity</li>
</ul>
<p>åœ¨ä½ çš„æ¸…å•æ–‡ä»¶ä¸­æ³¨å†Œäº† FlutterActivity ä¹‹åï¼Œæ ¹æ®éœ€è¦ï¼Œä½ å¯ä»¥åœ¨åº”ç”¨ä¸­çš„ä»»æ„ä½ç½®æ·»åŠ æ‰“å¼€ FlutterActivity çš„ä»£ç ã€‚ä¸‹è¾¹çš„ä»£ç å±•ç¤ºäº†å¦‚ä½•åœ¨ OnClickListener çš„ç‚¹å‡»äº‹ä»¶ä¸­æ‰“å¼€ FlutterActivityã€‚</p>
<pre><code class="java">import io.flutter.embedding.android.FlutterActivity;
</code></pre>
<pre><code class="java">myButton.setOnClickListener(new OnClickListener() &#123;
  @Override
  public void onClick(View v) &#123;
    startActivity(
      FlutterActivity.createDefaultIntent(currentActivity)
    );
  &#125;
&#125;);
</code></pre>
<p>ä¸Šè¿°çš„ä¾‹å­å‡å®šäº†ä½ çš„ Dart ä»£ç å…¥å£æ˜¯è°ƒç”¨ main()ï¼Œå¹¶ä¸”ä½ çš„ Flutter åˆå§‹è·¯ç”±æ˜¯ â€˜/â€™ã€‚ Dart ä»£ç å…¥å£ä¸èƒ½é€šè¿‡ Intent æ”¹å˜ï¼Œä½†æ˜¯åˆå§‹è·¯ç”±å¯ä»¥é€šè¿‡ Intent æ¥ä¿®æ”¹ã€‚ä¸‹é¢çš„ä¾‹å­è®²è§£äº†å¦‚ä½•æ‰“å¼€ä¸€ä¸ªè‡ªå®šä¹‰ Flutter åˆå§‹è·¯ç”±çš„ FlutterActivityã€‚</p>
<pre><code class="java">myButton.addOnClickListener(new OnClickListener() &#123;
  @Override
  public void onClick(View v) &#123;
    startActivity(
      FlutterActivity
        .withNewEngine()
        .initialRoute(&quot;/my_route&quot;)
        .build(this)
      );
  &#125;
&#125;);
</code></pre>
<p>å¯ä»¥ç”¨ä½ æƒ³è¦çš„åˆå§‹è·¯ç”±æ›¿æ¢æ‰ â€œ/my_routeâ€ã€‚</p>
<p>å·¥å‚æ–¹æ³• withNewEngine() å¯ä»¥ç”¨äºé…ç½®ä¸€ä¸ª FlutterActivityï¼Œå®ƒä¼šåœ¨å†…éƒ¨åˆ›å»ºä¸€ä¸ªå±äºè‡ªå·±çš„ FlutterEngine å®ä¾‹ï¼Œè¿™ä¼šæœ‰ä¸€ä¸ªæ˜æ˜¾çš„åˆå§‹åŒ–æ—¶é—´ã€‚å¦å¤–ä¸€ç§å¯é€‰çš„åšæ³•æ˜¯è®© FlutterActivity ä½¿ç”¨ä¸€ä¸ªé¢„çƒ­ä¸”ç¼“å­˜çš„ FlutterEngineï¼Œè¿™å¯ä»¥æœ€å°åŒ– Flutter åˆå§‹åŒ–çš„æ—¶é—´ã€‚è¿™ç§æ–¹å¼æ¥ä¸‹æ¥ä¼šè®¨è®ºåˆ°ã€‚</p>
<hr>
<ul>
<li>æ­¥éª¤3ï¼šï¼ˆå¯é€‰ï¼‰ä½¿ç”¨ç¼“å­˜çš„ FlutterEngine</li>
</ul>
<p>æ¯ä¸€ä¸ª FlutterActivity é»˜è®¤ä¼šåˆ›å»ºå®ƒè‡ªå·±çš„ FlutterEngineã€‚æ¯ä¸€ä¸ª FlutterEngine ä¼šæœ‰ä¸€ä¸ªæ˜æ˜¾çš„é¢„çƒ­æ—¶é—´ã€‚è¿™æ„å‘³ç€åŠ è½½ä¸€ä¸ªæ ‡å‡†çš„ FlutterActivity æ—¶ï¼Œåœ¨ä½ çš„ Flutter äº¤äº’é¡µé¢å¯è§ä¹‹å‰ä¼šæœ‰ä¸€ä¸ªçŸ­æš‚çš„å»¶è¿Ÿã€‚æƒ³è¦æœ€å°åŒ–è¿™ä¸ªå»¶è¿Ÿæ—¶é—´ï¼Œä½ å¯ä»¥åœ¨æŠµè¾¾ä½ çš„ FlutterActivity ä¹‹å‰ï¼Œåˆå§‹åŒ–ä¸€ä¸ª FlutterEngineï¼Œç„¶åä½¿ç”¨è¿™ä¸ªå·²ç»é¢„çƒ­å¥½çš„ FlutterEngineã€‚</p>
<p>è¦é¢„çƒ­ä¸€ä¸ª FlutterEngineï¼Œå¯ä»¥åœ¨ä½ çš„åº”ç”¨ä¸­æ‰¾ä¸€ä¸ªåˆç†çš„åœ°æ–¹å®ä¾‹åŒ–ä¸€ä¸ª FlutterEngineã€‚ä¸‹é¢çš„è¿™ä¸ªä¾‹å­æ˜¯åœ¨ Application ç±»ä¸­é¢„å…ˆåˆå§‹åŒ–ä¸€ä¸ª FlutterEngineï¼š</p>
<pre><code class="java">public class MyApplication extends Application &#123;
  public FlutterEngine flutterEngine;
  
  @Override
  public void onCreate() &#123;
    super.onCreate();
    // Instantiate a FlutterEngine.
    flutterEngine = new FlutterEngine(this);

    // Start executing Dart code to pre-warm the FlutterEngine.
    flutterEngine.getDartExecutor().executeDartEntrypoint(
      DartEntrypoint.createDefault()
    );

    // Cache the FlutterEngine to be used by FlutterActivity.
    FlutterEngineCache
      .getInstance()
      .put(&quot;my_engine_id&quot;, flutterEngine);
  &#125;
&#125;
</code></pre>
<hr>
<blockquote>
<p>ä¸åŸç”Ÿæ•°æ®äº¤äº’</p>
</blockquote>
<p>MethodChannel</p>
<hr>
<h2 id="ç¬¬ä¸‰æ–¹åº“ï¼ˆAndroidï¼‰"><a href="#ç¬¬ä¸‰æ–¹åº“ï¼ˆAndroidï¼‰" class="headerlink" title="ç¬¬ä¸‰æ–¹åº“ï¼ˆAndroidï¼‰"></a>ç¬¬ä¸‰æ–¹åº“ï¼ˆAndroidï¼‰</h2><h3 id="Volley"><a href="#Volley" class="headerlink" title="Volley"></a>Volley</h3><p>Googleå®˜æ–¹å‡ºå“çš„å¼‚æ­¥è¯·æ±‚æ¡†æ¶ï¼Œ2013å¹´å‘å¸ƒï¼Œé€‚åˆæ•°æ®é‡å°ï¼Œé€šä¿¡é‡å¤§çš„å‘å¸ƒã€‚</p>
<ul>
<li>æ­¥éª¤1ï¼šåˆ›å»º RequestQueueè¯·æ±‚é˜Ÿåˆ—</li>
</ul>
<p>è¯·æ±‚é˜Ÿåˆ—é€šå¸¸åªéœ€è¦ç”Ÿæˆä¸€ä¸ªï¼Œå¯ä½¿ç”¨å•ä¾‹æ¨¡å¼è¿›è¡Œåˆ›å»ºï¼Œè¿›è¡Œé«˜å¹¶å‘è¯·æ±‚ã€‚</p>
<pre><code class="java">public class VolleyUtils &#123;
    private static RequestQueue requestQueue;

    public static synchronized RequestQueue getInstance(Context context) &#123;
        if (requestQueue == null) &#123;
            requestQueue = Volley.newRequestQueue(context.getApplicationContext());
        &#125;

        return requestQueue;
    &#125;
&#125;
</code></pre>
<hr>
<ul>
<li>æ­¥éª¤2ï¼šåˆ›å»º StringRequestè¯·æ±‚å¯¹è±¡</li>
</ul>
<pre><code class="java">StringRequest request = new StringRequest(requestUrl, response -&gt; &#123;
            // success
        &#125;, error -&gt; &#123;
            // failure
        &#125;);
</code></pre>
<hr>
<ul>
<li>æ­¥éª¤3ï¼šå‘ RequestQueueè¯·æ±‚é˜Ÿåˆ— ä¸­æ·»åŠ  StringRequestè¯·æ±‚å¯¹è±¡</li>
</ul>
<pre><code class="java">VolleyUtils.getInstance(context).add(request);
</code></pre>
<hr>
<blockquote>
<p>æºç åˆ†æ</p>
</blockquote>
<ul>
<li><p>CacheDispatcherï¼šå†…éƒ¨å°±æ˜¯ä¸€ä¸ªçº¿ç¨‹ï¼Œå¼€å¯å­çº¿ç¨‹çš„ç¼“å­˜è¯·æ±‚é˜Ÿåˆ—ï¼Œwhileæ—¶åˆ»è¿è¡Œç½‘ç»œè¯·æ±‚ã€‚é¦–æ¬¡æ“ä½œä¼šå…ˆä»æœ¬åœ°åˆ¤æ–­æ˜¯å¦å­˜åœ¨ç¼“å­˜ï¼Œå¦‚æœæœ‰åˆ™ç›´æ¥ä»ç¼“å­˜ä¸­è·å–ï¼Œå¦åˆ™ç›´æ¥èµ°NetworkDispatcher</p>
</li>
<li><p>NetworkDispatcherï¼šå†…éƒ¨ä¹Ÿæ˜¯ä¸€ä¸ªçº¿ç¨‹ï¼Œå¼€å¯ç½‘ç»œè¯·æ±‚é˜Ÿåˆ—ï¼Œwhileæ—¶åˆ»è¿è¡Œç½‘ç»œè¯·æ±‚ã€‚é¦–æ¬¡æ“ä½œä¼šå…ˆä»CacheDispatcherä¸­åˆ¤æ–­æ˜¯å¦å­˜åœ¨ç¼“å­˜ï¼Œæœ‰çš„è¯åˆ™èµ°CacheDispatcherï¼Œè‹¥æ— ç¼“å­˜æˆ–ç¼“å­˜è¿‡æœŸåˆ™ä¼šæ–°å»ºä¸€ä¸ªè¯·æ±‚ï¼Œå¹¶å°†å“åº”å›ä¼ ä¸»çº¿ç¨‹ã€‚</p>
</li>
<li><p>ResponseDeliveryï¼šå“åº”åˆ†å‘å™¨ï¼Œå¯¹å“åº”è¿›è¡Œåˆ†å‘å›ä¼ ã€‚</p>
</li>
</ul>
<hr>
<h3 id="okHttp"><a href="#okHttp" class="headerlink" title="okHttp"></a>okHttp</h3><ul>
<li>æ­¥éª¤1ï¼šåˆ›å»º okHttp Client</li>
</ul>
<pre><code class="java">private final OkHttpClient _client = new OkHttpClient();
</code></pre>
<hr>
<ul>
<li>æ­¥éª¤2ï¼š å»ºç«‹è¯·æ±‚</li>
</ul>
<p>Builderæ¨¡å¼ï¼šå°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„å»ºä¸è¡¨ç¤ºç›¸åˆ†ç¦»ã€‚</p>
<pre><code class="java">Request request = new Request.Builder().url(&quot;you url&quot;).build();
</code></pre>
<hr>
<ul>
<li>æ­¥éª¤3ï¼šæ‰§è¡Œè¯·æ±‚ï¼ˆ<code>åŒæ­¥</code>è¯·æ±‚ï¼‰</li>
</ul>
<p>é˜»å¡å½“å‰çº¿ç¨‹è·å–æ•°æ®ã€‚</p>
<pre><code class="java">OkHttp3.Response response = _client.newCall(request).execute()
</code></pre>
<blockquote>
<p>OR</p>
</blockquote>
<ul>
<li>æ­¥éª¤3ï¼šæ‰§è¡Œè¯·æ±‚ï¼ˆ<code>å¼‚æ­¥</code>è¯·æ±‚ï¼‰</li>
</ul>
<pre><code class="java">_client.newCall(request).enqueue(
  new Callback()&#123;
    @Override
    public void onFailure(Call call, IOException e)&#123; 
      // handle error
      return e.printStackTrace();
      &#125;

    @Override
    public void onResponse(Call call, okhttp3.Response response) throw IOException&#123;
      // get response
      System.out.println(response.body().string())
    &#125;
  &#125;
)
</code></pre>
<hr>
<p><img src="https://cdn.jsdelivr.net/gh/PhoenixNest/ImageBed@master/Notes/Android/okhttp_interceptors.png" alt="æ‹¦æˆªå™¨"></p>
<blockquote>
<p>æ‹¦æˆªå™¨ï¼ˆåŒæ­¥è¯·æ±‚ï¼‰</p>
</blockquote>
<p>å°†ä»¥ä¸‹æ‹¦æˆªå™¨è¿›è¡Œé€æ¬¡è°ƒç”¨ï¼Œå½¢æˆé“¾æ¡ã€‚</p>
<ul>
<li><p>retryAndFollowUpInterceptorï¼šå¤±è´¥é‡è¯•ï¼Œé‡å®šå‘ã€‚</p>
</li>
<li><p>BridgeInterceptorï¼šå°†ç”¨æˆ·æ„é€ çš„è¯·æ±‚è½¬æ¢ä¸ºæœåŠ¡å™¨è¯·æ±‚ï¼Œå¹¶å°†æœåŠ¡å™¨å“åº”è½¬åŒ–ä¸ºç”¨æˆ·æ˜“äºæŸ¥çœ‹çš„å“åº”ï¼Œèµ·æ¡¥æ¥ä½œç”¨ã€‚</p>
</li>
<li><p>CacheInterceptorï¼šç¼“å­˜æ‹¦æˆªå™¨ï¼Œè´Ÿè´£è¯»å–æˆ–æ›´æ–°ç¼“å­˜ã€‚</p>
</li>
<li><p>ConnectInterceptorï¼šè´Ÿè´£ä¸æœåŠ¡ç«¯è¿›è¡Œè¿æ¥ã€‚</p>
</li>
<li><p>CallServerInterceptorï¼šè´Ÿè´£ç½‘ç»œç«¯è¿›è¡Œè¿æ¥ã€‚</p>
</li>
</ul>
<hr>
<blockquote>
<p>æ‹¦æˆªå™¨ï¼ˆå¼‚æ­¥è¯·æ±‚ï¼‰</p>
</blockquote>
<p>dispatcher().enqueue()æ–¹æ³•ä¸­ï¼š</p>
<ul>
<li><p>readyAsyncCallsï¼šæ­£åœ¨å‡†å¤‡çš„ä¸€äº›å¼‚æ­¥è¯·æ±‚ã€‚</p>
</li>
<li><p>runningAsyncCallsï¼šæ­£åœ¨è¿è¡Œçš„å¼‚æ­¥è¯·æ±‚ã€‚</p>
</li>
<li><p>runningSyncCallsï¼šæ­£åœ¨è¿è¡Œçš„åŒæ­¥è¯·æ±‚ã€‚</p>
</li>
</ul>
<p>å†…éƒ¨ä¼šå¼€å¯å‡ ä¸ªçº¿ç¨‹æ± ï¼Œä»»åŠ¡åœ¨åå°æ‰§è¡Œã€‚</p>
<hr>
<blockquote>
<p>äº‹ä»¶</p>
</blockquote>
<table>
<thead>
<tr>
<th><img src="https://cdn.jsdelivr.net/gh/PhoenixNest/ImageBed@master/Notes/Android/okhttp_events.png" alt="åŸºæœ¬äº‹ä»¶"></th>
<th><img src="https://cdn.jsdelivr.net/gh/PhoenixNest/ImageBed@master/Notes/Android/okhttp_events_with_failures.png" alt="åŸºæœ¬äº‹ä»¶ + å¤±è´¥äº‹ä»¶"></th>
<th><img src="https://cdn.jsdelivr.net/gh/PhoenixNest/ImageBed@master/Notes/Android/okhttp_events_with_failures_and_retries.png" alt="åŸºæœ¬äº‹ä»¶ + å¤±è´¥äº‹ä»¶ + é‡è¯•äº‹ä»¶"></th>
</tr>
</thead>
</table>
<hr>
<h3 id="GSON"><a href="#GSON" class="headerlink" title="GSON"></a>GSON</h3><hr>
<h3 id="Glide"><a href="#Glide" class="headerlink" title="Glide"></a>Glide</h3><hr>
<h3 id="GreenDao"><a href="#GreenDao" class="headerlink" title="GreenDao"></a>GreenDao</h3><hr>
<h3 id="LeakCanary"><a href="#LeakCanary" class="headerlink" title="LeakCanary"></a>LeakCanary</h3><hr>
<h2 id="ç¬¬ä¸‰æ–¹åº“ï¼ˆFlutterï¼‰"><a href="#ç¬¬ä¸‰æ–¹åº“ï¼ˆFlutterï¼‰" class="headerlink" title="ç¬¬ä¸‰æ–¹åº“ï¼ˆFlutterï¼‰"></a>ç¬¬ä¸‰æ–¹åº“ï¼ˆFlutterï¼‰</h2><h3 id="dio"><a href="#dio" class="headerlink" title="dio"></a>dio</h3><hr>
<h3 id="GetX"><a href="#GetX" class="headerlink" title="GetX"></a>GetX</h3><hr>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul>
<li><a target="_blank" rel="noopener" href="https://developer.android.google.cn/jetpack">Android for Developer â€¢ Jetpack</a></li>
</ul>

            <!--[if lt IE 9]>
            <script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls"
                   data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        
                            <li title='0' data-url='https://cdn.jsdelivr.net/gh/PhoenixNest/ImageBed@master/Music/StarCraft%20Terran%20Band%20-%20Blood%20and%20Glory.mp3'></li>
                        
                    
                </ul>
            
            
            
            
                <hr>
                <div id="vcomments"></div>
            
        </div>
        <div class="sidebar">
            <div class="box animated fadeInRight">
                <div class="subbox">
                    <img src="/img/favicon.png" height=300 width=300></img>
                    <p>PhoenixNest</p>
                    <span>ç”¨å®åŠ›è®©æƒ…æ€€è½åœ°</span>
                    
                </div>
                <ul>
                    <li><a href="/">29 <p>æ–‡ç« </p></a></li>
                    <li><a href="/categories">16 <p>åˆ†ç±»</p></a></li>
                    <li><a href="/tags">24 <p>æ ‡ç­¾</p></a></li>
                </ul>
            </div>
            
                
                
                    <div class="box sticky animated fadeInRight faster">
                        <div id="toc" class="subbox">
                            <h4>ç›®å½•</h4>
                            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">å¼•è¨€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MVC-MVP-MVVM"><span class="toc-number">2.</span> <span class="toc-text">MVC &#x2F; MVP &#x2F; MVVM</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84%EF%BC%88Java%EF%BC%89"><span class="toc-number">3.</span> <span class="toc-text">åå°„ï¼ˆJavaï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E4%BF%9D%E6%B4%BB"><span class="toc-number">3.1.</span> <span class="toc-text">è¿›ç¨‹ä¿æ´»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%83%AD%E6%9B%B4%E6%96%B0"><span class="toc-number">3.2.</span> <span class="toc-text">çƒ­æ›´æ–°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android-Native"><span class="toc-number">4.</span> <span class="toc-text">Android Native</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Activity"><span class="toc-number">4.1.</span> <span class="toc-text">Activity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Fragment"><span class="toc-number">4.2.</span> <span class="toc-text">Fragment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Service"><span class="toc-number">4.3.</span> <span class="toc-text">Service</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Content-Provider"><span class="toc-number">4.4.</span> <span class="toc-text">Content Provider</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Broadcast-Receiver"><span class="toc-number">4.5.</span> <span class="toc-text">Broadcast Receiver</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Handler"><span class="toc-number">4.6.</span> <span class="toc-text">Handler</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Android-Jetpack"><span class="toc-number">5.</span> <span class="toc-text">Android Jetpack</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Lifecycle"><span class="toc-number">5.1.</span> <span class="toc-text">Lifecycle</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LiveData"><span class="toc-number">5.2.</span> <span class="toc-text">LiveData</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ViewModel"><span class="toc-number">5.3.</span> <span class="toc-text">ViewModel</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ViewBinding-%E4%B8%8E-DataBinding"><span class="toc-number">5.4.</span> <span class="toc-text">ViewBinding ä¸ DataBinding</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Navigation"><span class="toc-number">5.5.</span> <span class="toc-text">Navigation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WorkManager"><span class="toc-number">5.6.</span> <span class="toc-text">WorkManager</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ROOM"><span class="toc-number">5.7.</span> <span class="toc-text">ROOM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Paging"><span class="toc-number">5.8.</span> <span class="toc-text">Paging</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Jetpack-Compose"><span class="toc-number">5.9.</span> <span class="toc-text">Jetpack Compose</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Flutter"><span class="toc-number">6.</span> <span class="toc-text">Flutter</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%EF%BC%88Android%EF%BC%89"><span class="toc-number">7.</span> <span class="toc-text">ç¬¬ä¸‰æ–¹åº“ï¼ˆAndroidï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Volley"><span class="toc-number">7.1.</span> <span class="toc-text">Volley</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#okHttp"><span class="toc-number">7.2.</span> <span class="toc-text">okHttp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GSON"><span class="toc-number">7.3.</span> <span class="toc-text">GSON</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Glide"><span class="toc-number">7.4.</span> <span class="toc-text">Glide</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GreenDao"><span class="toc-number">7.5.</span> <span class="toc-text">GreenDao</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LeakCanary"><span class="toc-number">7.6.</span> <span class="toc-text">LeakCanary</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%EF%BC%88Flutter%EF%BC%89"><span class="toc-number">8.</span> <span class="toc-text">ç¬¬ä¸‰æ–¹åº“ï¼ˆFlutterï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#dio"><span class="toc-number">8.1.</span> <span class="toc-text">dio</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GetX"><span class="toc-number">8.2.</span> <span class="toc-text">GetX</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">9.</span> <span class="toc-text">å‚è€ƒèµ„æ–™</span></a></li></ol>
                        </div>
                    </div>
                
            
        </div>
    </div>
</div>

    </div>
</div>
<div id="back-to-top" class="animated fadeIn faster">
    <div class="flow"></div>
    <span class="percentage animated fadeIn faster">0%</span>
    <span class="iconfont icon-top02 animated fadeIn faster"></span>
</div>
</body>
<footer>
    <p class="copyright" id="copyright">
        &copy; 2022
        <span class="gradient-text">
            PhoenixNest
        </span>.
        Powered by <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a>
    </p>
</footer>

    <script type="text/javascript" src="https://cdn.bootcss.com/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    <script>
        MathJax.Hub.Config({
            "HTML-CSS": {
                preferredFont: "TeX",
                availableFonts: ["STIX", "TeX"],
                linebreaks: {
                    automatic: true
                },
                EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
            },
            tex2jax: {
                inlineMath: [
                    ["$", "$"],
                    ["\\(", "\\)"]
                ],
                processEscapes: true,
                ignoreClass: "tex2jax_ignore|dno",
                skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
            },
            TeX: {
                noUndefined: {
                    attributes: {
                        mathcolor: "red",
                        mathbackground: "#FFEEEE",
                        mathsize: "90%"
                    }
                },
                Macros: {
                    href: "{}"
                }
            },
            messageStyle: "none"
        });
    </script>
    <script>
        function initialMathJax() {
            MathJax.Hub.Queue(function () {
                var all = MathJax.Hub.getAllJax(),
                    i;
                // console.log(all);
                for (i = 0; i < all.length; i += 1) {
                    console.log(all[i].SourceElement().parentNode)
                    all[i].SourceElement().parentNode.className += ' has-jax';
                }
            });
        }

        function reprocessMathJax() {
            if (typeof MathJax !== 'undefined') {
                MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
            }
        }
    </script>




<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/obsidian.js"></script>
<script src="/js/jquery.truncate.js"></script>
<script src="/js/search.js"></script>


<script src="//cdn.bootcss.com/typed.js/2.0.10/typed.min.js"></script>


<script src="//cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script>


<script src="//cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>


<script src="https://cdn.bootcss.com/codemirror/5.48.4/codemirror.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/javascript/javascript.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/css/css.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/xml/xml.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/htmlmixed/htmlmixed.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/clike/clike.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/php/php.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/shell/shell.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/python/python.min.js"></script>

  
<script src="/js/busuanzi.min.js"></script>

<script>
    $(document).ready(function () {
        if ($('span[id^="busuanzi_"]').length) {
            initialBusuanzi();
        }
    });
</script>
 
<link rel="stylesheet" href="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="//cdn.bootcss.com/photoswipe/4.1.3/default-skin/default-skin.min.css">


<script src="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>
  

<script>
    function initialTyped() {
        var typedTextEl = $('.typed-text');
        if (typedTextEl && typedTextEl.length > 0) {
            var typed = new Typed('.typed-text', {
                strings: ['Beyond The World', 'ç”¨å®åŠ›è®©æƒ…æ€€è½åœ°'],
                typeSpeed: 90,
                loop: true,
                loopCount: Infinity,
                backSpeed: 20,
            });
        }
    }

    if ($('.article-header') && $('.article-header').length) {
        $(document).ready(function () {
            initialTyped();
        });
    }
</script>

 
<script src="//unpkg.com/valine/dist/Valine.min.js"></script>

<script>
    var valine = new Valine();

    function initValine(path) {
        if (!path) path = window.location.pathname;
        let language = 'zh-CN';
        if (!language) {
            language = 'en';
        } else {
            language = language.toLowerCase();
        }
        valine.init({
            el: '#vcomments',
            appId: 'HDzkYOSz3NGcQuXbWMLin1mS-gzGzoHsz',
            appKey: 'pJ9JxbsY5D5aEmhxtCSNBlCT',
            notify: '',
            verify: '',
            avatar: '',
            placeholder: 'æ¸©é…’ä¼šçŸ¥éŸ³ ğŸ˜‰',
            visitor: 'true',
            path: path,
            lang: language,
        });
    }

    $(document).ready(function () {
        initValine();
    });
</script>



 <!-- ä¾‹ï¼šç™¾åº¦ç»Ÿè®¡ --> <script> var _hmt = _hmt || []; (function() { var hm = document.createElement("script"); hm.src = "https://hm.baidu.com/hm.js?your_code"; var s = document.getElementsByTagName("script")[0];  s.parentNode.insertBefore(hm, s); })(); </script> 

</html>
